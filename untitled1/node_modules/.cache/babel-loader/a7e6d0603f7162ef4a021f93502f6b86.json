{"remainingRequest":"C:\\Users\\ying123\\Desktop\\大创\\untitled1\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ying123\\Desktop\\大创\\untitled1\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\ying123\\Desktop\\大创\\untitled1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ying123\\Desktop\\大创\\untitled1\\src\\components\\editor\\TEditor.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ying123\\Desktop\\大创\\untitled1\\src\\components\\editor\\TEditor.vue","mtime":1615281826000},{"path":"C:\\Users\\ying123\\Desktop\\大创\\untitled1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663663907880},{"path":"C:\\Users\\ying123\\Desktop\\大创\\untitled1\\node_modules\\babel-loader\\lib\\index.js","mtime":1663663908297},{"path":"C:\\Users\\ying123\\Desktop\\大创\\untitled1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663663907880},{"path":"C:\\Users\\ying123\\Desktop\\大创\\untitled1\\node_modules\\vue-loader\\lib\\index.js","mtime":1663663904553}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdXBsb2FkSW1nLCB1cGxvYWRWaWRlbywgdXBsb2FkRmlsZSB9IGZyb20gJ0AvYXBpL2FwaSc7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IEVkaXRvciBmcm9tICdAdGlueW1jZS90aW55bWNlLXZ1ZSc7CmltcG9ydCB0aW55bWNlIGZyb20gJ3RpbnltY2UvdGlueW1jZSc7IC8vdGlueW1jZem7mOiupGhpZGRlbu+8jOS4jeW8leWFpeWImeS4jeaYvuekuue8lui+keWZqAoKaW1wb3J0ICd0aW55bWNlL3NraW5zL3VpL294aWRlL3NraW4uY3NzJzsgLy/kuI3lvJXlhaXkuI3mmL7npLoKCmltcG9ydCAndGlueW1jZS90aGVtZXMvL3NpbHZlcic7IC8v57yW6L6R5Zmo5Li76aKY77yM5LiN5byV5YWl5YiZ5oql6ZSZCgppbXBvcnQgJ3RpbnltY2UvaWNvbnMvZGVmYXVsdCc7IC8v5byV5YWl57yW6L6R5Zmo5Zu+5qCHaWNvbu+8jOS4jeW8leWFpeWImeS4jeaYvuekuuWvueW6lOWbvuaghwoKaW1wb3J0ICd0aW55bWNlL3BsdWdpbnMvYWR2bGlzdCc7IC8v6auY57qn5YiX6KGoCgppbXBvcnQgJ3RpbnltY2UvcGx1Z2lucy9hbmNob3InOyAvL+mUmueCuQoKaW1wb3J0ICd0aW55bWNlL3BsdWdpbnMvYXV0b2xpbmsnOyAvL+iHquWKqOmTvuaOpQoKaW1wb3J0ICd0aW55bWNlL3BsdWdpbnMvYXV0b3Jlc2l6ZSc7IC8v57yW6L6R5Zmo6auY5bqm6Ieq6YCC5bqULOazqO+8mnBsdWdpbnPph4zlvJXlhaXmraTmj5Lku7bml7bvvIxJbml06YeM6K6+572u55qEaGVpZ2h05bCG5aSx5pWICgppbXBvcnQgJ3RpbnltY2UvcGx1Z2lucy9hdXRvc2F2ZSc7IC8v6Ieq5Yqo5a2Y56i/CgppbXBvcnQgJ3RpbnltY2UvcGx1Z2lucy9jaGFybWFwJzsgLy/nibnmrorlrZfnrKYKCmltcG9ydCAndGlueW1jZS9wbHVnaW5zL2NvZGUnOyAvL+e8lui+kea6kOeggQoKaW1wb3J0ICd0aW55bWNlL3BsdWdpbnMvY29kZXNhbXBsZSc7IC8v5Luj56CB56S65L6LCgppbXBvcnQgJ3RpbnltY2UvcGx1Z2lucy9kaXJlY3Rpb25hbGl0eSc7IC8v5paH5a2X5pa55ZCRCgppbXBvcnQgJ3RpbnltY2UvcGx1Z2lucy9mdWxscGFnZSc7IC8v5paH5qGj5bGe5oCnCgppbXBvcnQgJ3RpbnltY2UvcGx1Z2lucy9mdWxsc2NyZWVuJzsgLy/lhajlsY8KCmltcG9ydCAndGlueW1jZS9wbHVnaW5zL2hlbHAnOyAvL+W4ruWKqQoKaW1wb3J0ICd0aW55bWNlL3BsdWdpbnMvaHInOyAvL+awtOW5s+WIhuWJsue6vwoKaW1wb3J0ICd0aW55bWNlL3BsdWdpbnMvaW1hZ2UnOyAvL+aPkuWFpee8lui+keWbvueJhwoKaW1wb3J0ICd0aW55bWNlL3BsdWdpbnMvaW1wb3J0Y3NzJzsgLy/lvJXlhaVjc3MKCmltcG9ydCAndGlueW1jZS9wbHVnaW5zL2luc2VydGRhdGV0aW1lJzsgLy/mj5LlhaXml6XmnJ/ml7bpl7QKCmltcG9ydCAndGlueW1jZS9wbHVnaW5zL2xpbmsnOyAvL+i2hemTvuaOpQoKaW1wb3J0ICd0aW55bWNlL3BsdWdpbnMvbGlzdHMnOyAvL+WIl+ihqOaPkuS7tgoKaW1wb3J0ICd0aW55bWNlL3BsdWdpbnMvbWVkaWEnOyAvL+aPkuWFpee8lui+keWqkuS9kwoKaW1wb3J0ICd0aW55bWNlL3BsdWdpbnMvbm9uYnJlYWtpbmcnOyAvL+aPkuWFpeS4jemXtOaWreepuuagvAoKaW1wb3J0ICd0aW55bWNlL3BsdWdpbnMvcGFnZWJyZWFrJzsgLy/mj5LlhaXliIbpobXnrKYKCmltcG9ydCAndGlueW1jZS9wbHVnaW5zL3Bhc3RlJzsgLy/nspjotLTmj5Lku7YKCmltcG9ydCAndGlueW1jZS9wbHVnaW5zL3ByZXZpZXcnOyAvL+mihOiniAoKaW1wb3J0ICd0aW55bWNlL3BsdWdpbnMvcXVpY2tiYXJzJzsgLy/lv6vpgJ/lt6XlhbfmoI8KCmltcG9ydCAndGlueW1jZS9wbHVnaW5zL3NhdmUnOyAvL+S/neWtmAoKaW1wb3J0ICd0aW55bWNlL3BsdWdpbnMvc2VhcmNocmVwbGFjZSc7IC8v5p+l5om+5pu/5o2iCgppbXBvcnQgJ3RpbnltY2UvcGx1Z2lucy90YWJmb2N1cyc7IC8v5YiH5YWl5YiH5Ye677yM5oyJdGFi6ZSu5YiH5Ye657yW6L6R5Zmo77yM5YiH5YWl6aG16Z2i5YW25LuW6L6T5YWl5qGG5LitCgppbXBvcnQgJ3RpbnltY2UvcGx1Z2lucy90YWJsZSc7IC8v6KGo5qC8CgppbXBvcnQgJ3RpbnltY2UvcGx1Z2lucy90ZW1wbGF0ZSc7IC8v5YaF5a655qih5p2/CgppbXBvcnQgJ3RpbnltY2UvcGx1Z2lucy90ZXh0Y29sb3InOyAvL+aWh+Wtl+minOiJsgoKaW1wb3J0ICd0aW55bWNlL3BsdWdpbnMvdGV4dHBhdHRlcm4nOyAvL+W/q+mAn+aOkueJiAoKaW1wb3J0ICd0aW55bWNlL3BsdWdpbnMvdG9jJzsgLy/nm67lvZXnlJ/miJDlmagKCmltcG9ydCAndGlueW1jZS9wbHVnaW5zL3Zpc3VhbGJsb2Nrcyc7IC8v5pi+56S65YWD57Sg6IyD5Zu0CgppbXBvcnQgJ3RpbnltY2UvcGx1Z2lucy92aXN1YWxjaGFycyc7IC8v5pi+56S65LiN5Y+v6KeB5a2X56ymCgppbXBvcnQgJ3RpbnltY2UvcGx1Z2lucy93b3JkY291bnQnOyAvL+Wtl+aVsOe7n+iuoQoKVnVlLnByb3RvdHlwZS5heGlvcyA9IGF4aW9zOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlRFZGl0b3IiLAogIGNvbXBvbmVudHM6IHsKICAgIEVkaXRvcgogIH0sCiAgcHJvcHM6IHsKICAgIG15S2V5OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICB2YWx1ZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgZGlzYWJsZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBwbHVnaW5zOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIEFycmF5XSwKICAgICAgZGVmYXVsdDogJ3ByZXZpZXcgc2VhcmNocmVwbGFjZSBhdXRvbGluayBkaXJlY3Rpb25hbGl0eSB2aXN1YWxibG9ja3MgdmlzdWFsY2hhcnMgZnVsbHNjcmVlbiBpbWFnZSBsaW5rIG1lZGlhIHRlbXBsYXRlIGNvZGUgY29kZXNhbXBsZSB0YWJsZSBjaGFybWFwIGhyIHBhZ2VicmVhayBub25icmVha2luZyBhbmNob3IgaW5zZXJ0ZGF0ZXRpbWUgYWR2bGlzdCBsaXN0cyB3b3JkY291bnQgdGV4dHBhdHRlcm4gYXV0b3NhdmUgJwogICAgfSwKICAgIHRvb2xiYXI6IHsKICAgICAgdHlwZTogW1N0cmluZywgQXJyYXldLAogICAgICBkZWZhdWx0OiAnZnVsbHNjcmVlbiB1bmRvIHJlZG8gcmVzdG9yZWRyYWZ0IHwgY3V0IGNvcHkgcGFzdGUgcGFzdGV0ZXh0IHwgZm9yZWNvbG9yIGJhY2tjb2xvciBib2xkIGl0YWxpYyB1bmRlcmxpbmUgc3RyaWtldGhyb3VnaCBsaW5rIGFuY2hvciB8IGFsaWdubGVmdCBhbGlnbmNlbnRlciBhbGlnbnJpZ2h0IGFsaWduanVzdGlmeSBvdXRkZW50IGluZGVudCB8IFwNCiAgICAgICAgICAgICAgICBzdHlsZXNlbGVjdCBmb3JtYXRzZWxlY3QgZm9udHNlbGVjdCBmb250c2l6ZXNlbGVjdCB8IGJ1bGxpc3QgbnVtbGlzdCB8IGJsb2NrcXVvdGUgc3Vic2NyaXB0IHN1cGVyc2NyaXB0IHJlbW92ZWZvcm1hdCB8IFwNCiAgICAgICAgICAgICAgICB0YWJsZSBpbWFnZSBtZWRpYSBjaGFybWFwIGhyIHBhZ2VicmVhayBpbnNlcnRkYXRldGltZSAgcHJldmlldyB8IGNvZGUgc2VsZWN0YWxsIHNlYXJjaHJlcGxhY2UgdmlzdWFsYmxvY2tzIHwgaW5kZW50MmVtIGxpbmVoZWlnaHQgZm9ybWF0cGFpbnRlciBheHVwaW1ncycKICAgIH0KICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2FudENhbmNsZTogZmFsc2UsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBwcm9jZXNzOiAwLAogICAgICBDYW5jZWxUb2tlbjogIiIsCiAgICAgIC8v55So5LqO5Y+W5raI5LiK5LygCiAgICAgIHNvdXJjZTogIiIsCiAgICAgIC8v55So5LqO5Y+W5raI5LiK5LygCiAgICAgIGluaXQ6IHsKICAgICAgICBtZWRpYV9saXZlX2VtYmVkczogdHJ1ZSwKICAgICAgICBsYW5ndWFnZV91cmw6ICcvdGlueW1jZS9sYW5ncy96aF9DTi5qcycsCiAgICAgICAgLy/lvJXlhaXor63oqIDljIXmlofku7YKICAgICAgICBsYW5ndWFnZTogJ3poX0NOJywKICAgICAgICAvL+ivreiogOexu+WeiwogICAgICAgIC8vIHNraW5fdXJsOiAnL3RpbnltY2Uvc2tpbnMvdWkvb3hpZGUnLCAgLy/nmq7ogqTvvJrmtYXoibIKICAgICAgICBwbHVnaW5zOiB0aGlzLnBsdWdpbnMsCiAgICAgICAgLy/mj5Lku7bphY3nva4KICAgICAgICB0b29sYmFyOiB0aGlzLnRvb2xiYXIsCiAgICAgICAgLy/lt6XlhbfmoI/phY3nva7vvIzorr7kuLpmYWxzZeWImemakOiXjwogICAgICAgIGZvbnRzaXplX2Zvcm1hdHM6ICcxMnB4IDE0cHggMTZweCAxOHB4IDIwcHggMjJweCAyNHB4IDI4cHggMzJweCAzNnB4IDQ4cHggNTZweCA3MnB4JywKICAgICAgICAvL+Wtl+S9k+Wkp+WwjwogICAgICAgIGZvbnRfZm9ybWF0czogJ+W+rui9r+mbhem7kT1NaWNyb3NvZnQgWWFIZWksSGVsdmV0aWNhIE5ldWUsUGluZ0ZhbmcgU0Msc2Fucy1zZXJpZjvoi7nmnpzoi7nmlrk9UGluZ0ZhbmcgU0MsTWljcm9zb2Z0IFlhSGVpLHNhbnMtc2VyaWY75a6L5L2TPXNpbXN1bixzZXJpZjvku7/lrovkvZM9RmFuZ1Nvbmcsc2VyaWY76buR5L2TPVNpbUhlaSxzYW5zLXNlcmlmO0FyaWFsPWFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmO0FyaWFsIEJsYWNrPWFyaWFsIGJsYWNrLGF2YW50IGdhcmRlO0Jvb2sgQW50aXF1YT1ib29rIGFudGlxdWEscGFsYXRpbm87JywKICAgICAgICAvL+Wtl+S9k+agt+W8jwogICAgICAgIGxpbmVoZWlnaHRfZm9ybWF0czogIjAuNSAwLjggMSAxLjIgMS41IDEuNzUgMiAyLjUgMyA0IDUiLAogICAgICAgIC8v6KGM6auY6YWN572u77yM5Lmf5Y+v6YWN572u5oiQIjEycHggMTRweCAxNnB4IDIwcHgi6L+Z56eN5b2i5byPCiAgICAgICAgaGVpZ2h0OiA0MDAsCiAgICAgICAgLy/ms6jvvJrlvJXlhaVhdXRvcmVzaXpl5o+S5Lu25pe277yM5q2k5bGe5oCn5aSx5pWICiAgICAgICAgcGxhY2Vob2xkZXI6ICflnKjov5nph4znvJbovpHmoYjkvosnLAogICAgICAgIGJyYW5kaW5nOiBmYWxzZSwKICAgICAgICAvL3RpbnnmioDmnK/mlK/mjIHkv6Hmga/mmK/lkKbmmL7npLoKICAgICAgICByZXNpemU6IGZhbHNlLAogICAgICAgIC8v57yW6L6R5Zmo5a696auY5piv5ZCm5Y+v5Y+Y77yMZmFsc2Ut5ZCmLHRydWUt6auY5Y+v5Y+Y77yMJ2JvdGgnLeWuvemrmOWdh+WPr++8jOazqOaEj+W8leWPtwogICAgICAgIGVsZW1lbnRwYXRoOiBmYWxzZSwKICAgICAgICAvL+WFg+e0oOi3r+W+hOaYr+WQpuaYvuekugogICAgICAgIGNvbnRlbnRfc3R5bGU6ICJpbWcge21heC13aWR0aDoxMDAlO30iLAogICAgICAgIC8v55u05o6l6Ieq5a6a5LmJ5Y+v57yW6L6R5Yy65Z+f55qEY3Nz5qC35byPCiAgICAgICAgLy8gaW1hZ2VzX3VwbG9hZF91cmw6ICcvYXBpYi9hcGktdXBsb2FkL3VwbG9hZGltZycsICAvL+WQjuerr+WkhOeQhueoi+W6j+eahHVybO+8jOW7uuiuruebtOaOpeiHquWumuS5ieS4iuS8oOWHveaVsGltYWdlX3VwbG9hZF9oYW5kbGVy77yM6L+Z5Liq5bCx5Y+v5Lul5LiN55So5LqGCiAgICAgICAgLy8gaW1hZ2VzX3VwbG9hZF9iYXNlX3BhdGg6ICcvZGVtbycsICAvL+ebuOWvueWfuuacrOi3r+W+hC0t5YWz5LqO5Zu+54mH5LiK5Lyg5bu66K6u5p+l55yLLS1odHRwOi8vdGlueW1jZS5heC16LmNuL2dlbmVyYWwvdXBsb2FkLWltYWdlcy5waHAKICAgICAgICBwYXN0ZV9kYXRhX2ltYWdlczogdHJ1ZSwKICAgICAgICAvL+WbvueJh+aYr+WQpuWPr+eymOi0tAogICAgICAgIGltYWdlc191cGxvYWRfaGFuZGxlcjogKGJsb2JJbmZvLCBzdWNjZXNzLCBmYWlsdXJlKSA9PiB7CiAgICAgICAgICBpZiAodGhpcy5teUtleSA9PT0gIiIpIHsKICAgICAgICAgICAgYWxlcnQoIuWIneWni+WMluS4re+8jOivt+eojeWAmSIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGJsb2JJbmZvLmJsb2IoKS5zaXplIC8gMTAyNCAvIDEwMjQgPiAyKSB7CiAgICAgICAgICAgIGZhaWx1cmUoIuS4iuS8oOWksei0pe+8jOWbvueJh+Wkp+Wwj+ivt+aOp+WItuWcqCAyTSDku6XlhoUiKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxldCBwYXJhbXMgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgcGFyYW1zLmFwcGVuZCgnZmlsZScsIGJsb2JJbmZvLmJsb2IoKSk7CiAgICAgICAgICAgIGxldCBjb25maWcgPSB7CiAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgIktleSI6IHRoaXMubXlLZXksCiAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogIm11bHRpcGFydC9mb3JtLWRhdGEiCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLmF4aW9zLnBvc3QodXBsb2FkSW1nLCBwYXJhbXMsIGNvbmZpZykudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID4gLTEpIHsKICAgICAgICAgICAgICAgIHN1Y2Nlc3MocmVzLmRhdGEuZGF0YSk7IC8v5LiK5Lyg5oiQ5Yqf77yM5Zyo5oiQ5Yqf5Ye95pWw6YeM5aGr5YWl5Zu+54mH6Lev5b6ECiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGZhaWx1cmUoIuS4iuS8oOWksei0pSIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgIGZhaWx1cmUoIuS4iuS8oOWHuumUme+8jOacjeWKoeWZqOW8gOWwj+W3ruS6huWRoiIpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGZpbGVfY2FsbGJhY2s6IGZ1bmN0aW9uIChmaWxlLCBzdWNjRnVuKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygxMjM0NTY2Nzc3Nzc3KTsKICAgICAgICAgIHN1Y2NGdW4oMTIzNDU2LCB7CiAgICAgICAgICAgIHRleHQ6ICd4eC5wZGYnCiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGZpbGVfcGlja2VyX3R5cGVzOiAnaW1hZ2UgbWVkaWEgZmlsZScsCiAgICAgICAgLy/liIbliKvlr7nlupTkuInkuKrnsbvlnovmlofku7bnmoTkuIrkvKDvvJpsaW5r5o+S5Lu277yMaW1hZ2Xmj5Lku7bvvIxtZWRpYeaPkuS7tgogICAgICAgIGZpbGVfcGlja2VyX2NhbGxiYWNrOiAoY2FsbGJhY2ssIHZhbHVlLCBtZXRhKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhtZXRhKTsKCiAgICAgICAgICBpZiAodGhpcy5teUtleSA9PT0gIiIpIHsKICAgICAgICAgICAgYWxlcnQoIuWIneWni+WMluS4re+8jOivt+eojeWAmSIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgbGV0IGZpbGV0eXBlID0gJy5wZGYsIC50eHQsIC56aXAsIC5yYXIsIC43eiwgLmRvYywgLmRvY3gsIC54bHMsIC54bHN4LCAucHB0LCAucHB0eCwgLm1wMywgLm1wNCwgLmpwZyc7IC8v6ZmQ5Yi25paH5Lu255qE5LiK5Lyg57G75Z6LCgogICAgICAgICAgbGV0IGlucHV0RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IC8v5Yib5bu65paH5Lu26YCJ5oupCgogICAgICAgICAgaW5wdXRFbGVtLnNldEF0dHJpYnV0ZSgndHlwZScsICdmaWxlJyk7CiAgICAgICAgICBpbnB1dEVsZW0uc2V0QXR0cmlidXRlKCdhY2NlcHQnLCBmaWxldHlwZSk7CiAgICAgICAgICBpbnB1dEVsZW0uY2xpY2soKTsKCiAgICAgICAgICBpbnB1dEVsZW0ub25jaGFuZ2UgPSAoKSA9PiB7CiAgICAgICAgICAgIGxldCB1cHVybCA9ICIiOwogICAgICAgICAgICBsZXQgZmlsZSA9IGlucHV0RWxlbS5maWxlc1swXTsgLy/ojrflj5bmlofku7bkv6Hmga8KCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGZpbGUudHlwZSk7CgogICAgICAgICAgICBpZiAoZmlsZS50eXBlLnNsaWNlKDAsIDUpID09PSAndmlkZW8nKSB7CiAgICAgICAgICAgICAgLy/liKTmlq3mlofku7bnsbvlnosKICAgICAgICAgICAgICB1cHVybCA9IHVwbG9hZFZpZGVvOwogICAgICAgICAgICB9IGVsc2UgaWYgKGZpbGUudHlwZS5zbGljZSgwLCA1KSA9PT0gJ2ltYWdlJykgewogICAgICAgICAgICAgIHVwdXJsID0gdXBsb2FkSW1nOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHVwdXJsID0gdXBsb2FkRmlsZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGZpbGUudHlwZS5zbGljZSgwLCA1KSA9PT0gJ2ltYWdlJyAmJiBmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCA+IDIpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5LiK5Lyg5Zu+54mHIik7CiAgICAgICAgICAgICAgYWxlcnQoIuS4iuS8oOWksei0pe+8jOWbvueJh+Wkp+Wwj+ivt+aOp+WItuWcqDJN5Lul5YaFIik7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZmlsZS50eXBlLnNsaWNlKDAsIDUpID09PSAndmlkZW8nICYmIGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0ID4gNTApIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygi6L+Z5piv6KeG6aKRIik7CiAgICAgICAgICAgICAgYWxlcnQoIuS4iuS8oOWksei0pe+8jOinhumikeWkp+Wwj+ivt+aOp+WItuWcqCAxMDBNIOS7peWGhSIpOwogICAgICAgICAgICB9IGVsc2UgaWYgKGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0ID4gMzApIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5LiK5Lyg5paH5Lu2Iik7CiAgICAgICAgICAgICAgYWxlcnQoIuS4iuS8oOWksei0pe+8jOaWh+S7tuWkp+Wwj+ivt+aOp+WItuWcqCAyME0g5Lul5YaFIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgbGV0IHBhcmFtcyA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTsKICAgICAgICAgICAgICB0aGlzLkNhbmNlbFRva2VuID0gdGhpcy5heGlvcy5DYW5jZWxUb2tlbjsKICAgICAgICAgICAgICB0aGlzLnNvdXJjZSA9IHRoaXMuQ2FuY2VsVG9rZW4uc291cmNlKCk7CiAgICAgICAgICAgICAgbGV0IGNvbmZpZyA9IHsKICAgICAgICAgICAgICAgIGNhbmNlbFRva2VuOiB0aGlzLnNvdXJjZS50b2tlbiwKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgIktleSI6IHRoaXMubXlLZXksCiAgICAgICAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAibXVsdGlwYXJ0L2Zvcm0tZGF0YSIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvblVwbG9hZFByb2dyZXNzOiBwcm9ncmVzc0V2ZW50ID0+IHsKICAgICAgICAgICAgICAgICAgLy/ov5vluqbmnaEKICAgICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzRXZlbnQubGVuZ3RoQ29tcHV0YWJsZSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbXBsZXRlID0gcHJvZ3Jlc3NFdmVudC5sb2FkZWQgLyBwcm9ncmVzc0V2ZW50LnRvdGFsICogMTAwIHwgMDsKICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3MgPSBjb21wbGV0ZTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlID09PSAxMDApIHsKICAgICAgICAgICAgICAgICAgICAgIC8v5oiQ5Yqf5LiK5Lyg6Iez5pyN5Yqh5Zmo77yM562J5b6F5pyN5Yqh5Zmo5bCG5paH5Lu25a2Y5YKo6IezT1NTCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3MgPSAxMDA7CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnRDYW5jbGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgdGhpcy5DYW5jZWxUb2tlbiA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VyY2UgPSAiIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIHRoaXMuYXhpb3MucG9zdCh1cHVybCwgcGFyYW1zLCBjb25maWcpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID4gLTEpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuS4iuS8oOaIkOWKnyIpOwogICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgY2FsbGJhY2socmVzLmRhdGEuZGF0YSk7IC8v5LiK5Lyg5oiQ5Yqf77yM5Zyo5Zue6LCD5Ye95pWw6YeM5aGr5YWl5paH5Lu26Lev5b6ECiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgYWxlcnQoIuahiOS+i+W3suaPkOS6pOaIliIgKyByZXMuZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgaWYgKHRoaXMuYXhpb3MuaXNDYW5jZWwoZXJyKSkgewogICAgICAgICAgICAgICAgICBhbGVydCgi5LiK5Lyg5Y+W5raIIik7CiAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2VzcyA9ICLkuIrkvKDku6Xnu4jmraIiOwogICAgICAgICAgICAgICAgICB0aGlzLmNhbnRDYW5jbGUgPSB0cnVlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgYWxlcnQoIuS4iuS8oOWHuumUme+8jOacjeWKoeWZqOW8gOWwj+W3ruS6huWRoiIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgY29udGVudFZhbHVlOiB0aGlzLnZhbHVlCiAgICB9OwogIH0sCgogIHdhdGNoOiB7CiAgICB2YWx1ZShuZXdWYWx1ZSkgewogICAgICB0aGlzLmNvbnRlbnRWYWx1ZSA9IG5ld1ZhbHVlOwogICAgfSwKCiAgICBjb250ZW50VmFsdWUobmV3VmFsdWUpIHsKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBuZXdWYWx1ZSk7CiAgICB9CgogIH0sCgogIGNyZWF0ZWQoKSB7fSwKCiAgbW91bnRlZCgpIHsKICAgIHRpbnltY2UuaW5pdCh7fSk7CiAgfSwKCiAgbWV0aG9kczogewogICAgZm9ybWF0KHBlcmNlbnRhZ2UpIHsKICAgICAgcmV0dXJuIHBlcmNlbnRhZ2UgPT09IDEwMCA/ICfkuIrkvKDlrozmiJDvvIzor7fogJDlv4PnrYnlvoXmnI3liqHlmajlpITnkIbvvIzlpITnkIblrozmiJDlkI7lsIboh6rliqjlhbPpl63lvLnnqpcnIDogYCR7cGVyY2VudGFnZX0lYDsKICAgIH0sCgogICAgY2FuY2xlVXBsb2FkKCkgewogICAgICBpZiAodGhpcy5zb3VyY2UgIT09ICcnKSB7CiAgICAgICAgdGhpcy5zb3VyY2UuY2FuY2VsKCLlj5bmtojkuIrkvKAiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNhbnRDYW5jbGUgPSB0cnVlOwogICAgICB9CiAgICB9LAoKICAgIGhhbmRsZUNsb3NlKCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgIH0sCgogICAgLy8g5re75Yqg55u45YWz55qE5LqL5Lu277yM5Y+v55So55qE5LqL5Lu25Y+C54Wn5paH5qGjPT4gaHR0cHM6Ly9naXRodWIuY29tL3RpbnltY2UvdGlueW1jZS12dWUgPT4gQWxsIGF2YWlsYWJsZSBldmVudHMKICAgIG9uQ2xpY2soZSkgewogICAgICB0aGlzLiRlbWl0KCdvbkNsaWNrJywgZSwgdGlueW1jZSk7CiAgICB9LAoKICAgIC8v5riF56m65YaF5a65CiAgICBjbGVhcigpIHsKICAgICAgdGhpcy5jb250ZW50VmFsdWUgPSAnJzsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"mappings":"AAoBA;AACA;AACA;AACA;AACA,sC,CAAA;;AACA,yC,CAAA;;AACA,gC,CAAA;;AACA,+B,CAAA;;AACA,iC,CAAA;;AACA,gC,CAAA;;AACA,kC,CAAA;;AACA,oC,CAAA;;AACA,kC,CAAA;;AACA,iC,CAAA;;AACA,8B,CAAA;;AACA,oC,CAAA;;AACA,wC,CAAA;;AACA,kC,CAAA;;AACA,oC,CAAA;;AACA,8B,CAAA;;AACA,4B,CAAA;;AACA,+B,CAAA;;AACA,mC,CAAA;;AACA,wC,CAAA;;AACA,8B,CAAA;;AACA,+B,CAAA;;AACA,+B,CAAA;;AACA,qC,CAAA;;AACA,mC,CAAA;;AACA,+B,CAAA;;AACA,iC,CAAA;;AACA,mC,CAAA;;AACA,8B,CAAA;;AACA,uC,CAAA;;AACA,kC,CAAA;;AACA,+B,CAAA;;AACA,kC,CAAA;;AACA,mC,CAAA;;AACA,qC,CAAA;;AACA,6B,CAAA;;AACA,sC,CAAA;;AACA,qC,CAAA;;AACA,mC,CAAA;;AACAA;AACA;EACAC,eADA;EAEAC;IAAAC;EAAA,CAFA;EAGAC;IACAC;MACAC,YADA;MAEAC;IAFA,CADA;IAKAC;MACAF,YADA;MAEAC;IAFA,CALA;IASAE;MACAH,aADA;MAEAC;IAFA,CATA;IAaAG;MACAJ,qBADA;MAEAC;IAFA,CAbA;IAiBAI;MACAL,qBADA;MAEAC;AACA;AACA;IAJA;EAjBA,CAHA;;EA2BAK;IACA;MACAC,iBADA;MAEAC,oBAFA;MAGAC,UAHA;MAIAC,eAJA;MAIA;MACAC,UALA;MAKA;MACAC;QACAC,uBADA;QAEAC,uCAFA;QAEA;QACAC,iBAHA;QAGA;QACA;QACAX,qBALA;QAKA;QACAC,qBANA;QAMA;QACAW,oFAPA;QAOA;QACAC,uRARA;QAQA;QACAC,wDATA;QASA;QACAC,WAVA;QAUA;QACAC,sBAXA;QAYAC,eAZA;QAYA;QACAC,aAbA;QAaA;QACAC,kBAdA;QAcA;QACAC,sCAfA;QAeA;QACA;QACA;QACAC,uBAlBA;QAkBA;QACAC;UACA;YACAC;YACA;UACA;;UACA;YACAC;UACA,CAFA,MAEA;YACA;YACAC;YACA;cACAC;gBACA,iBADA;gBAEA;cAFA;YADA;YAMA;cACA;gBACAC,uBADA,CACA;cACA,CAFA,MAEA;gBACAH;cACA;YACA,CANA,EAMAI,KANA,CAMA;cACAJ;YACA,CARA;UASA;QACA,CA7CA;QA8CAK;UACAC;UACAC;YAAAC;UAAA;QACA,CAjDA;QAkDAC,qCAlDA;QAkDA;QACAC;UACAJ;;UACA;YACAP;YACA;UACA;;UACA,sGANA,CAMA;;UACA,gDAPA,CAOA;;UACAY;UACAA;UACAA;;UACAA;YACA;YACA,8BAFA,CAEA;;YACAL;;YACA;cAAA;cACAM;YACA,CAFA,MAEA;cACAA;YACA,CAFA,MAEA;cACAA;YACA;;YACA;cACAN;cACAP;YACA,CAHA,MAGA;cACAO;cACAP;YACA,CAHA,MAGA;cACAO;cACAP;YACA,CAHA,MAGA;cACA;cACAE;cACA;cACA;cACA;gBACAY,8BADA;gBAEAX;kBACA,iBADA;kBAEA;gBAFA,CAFA;gBAKAY;kBAAA;kBACA;oBACA;oBACA;oBACA;;oBACA;sBAAA;sBACA;sBACA;sBACA;sBACA;oBACA;kBACA;gBACA;cAjBA;cAmBA;gBACA;kBACAR;kBACA;kBACAS,wBAHA,CAGA;gBACA,CAJA,MAIA;kBACA;kBACAhB;gBACA;cACA,CATA,EASAK,KATA,CASAY;gBACA;kBACAjB;kBACA;kBACA;gBACA,CAJA,MAIA;kBACAA;gBACA;cACA,CAjBA;YAkBA;UACA,CA/DA;QAgEA;MA9HA,CANA;MAuIAkB;IAvIA;EAyIA,CArKA;;EAsKAC;IACA5C;MACA;IACA,CAHA;;IAIA2C;MACA;IACA;;EANA,CAtKA;;EA8KAE,WAEA,CAhLA;;EAiLAC;IACAC;EACA,CAnLA;;EAoLAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CAVA;;IAWAC;MACA;IACA,CAbA;;IAcA;IACAC;MACA;IACA,CAjBA;;IAkBA;IACAC;MACA;IACA;;EArBA;AApLA","names":["Vue","name","components","Editor","props","myKey","type","default","value","disabled","plugins","toolbar","data","cantCancle","dialogVisible","process","CancelToken","source","init","media_live_embeds","language_url","language","fontsize_formats","font_formats","lineheight_formats","height","placeholder","branding","resize","elementpath","content_style","paste_data_images","images_upload_handler","alert","failure","params","headers","success","catch","file_callback","console","succFun","text","file_picker_types","file_picker_callback","inputElem","upurl","cancelToken","onUploadProgress","callback","err","contentValue","watch","created","mounted","tinymce","methods","format","cancleUpload","handleClose","onClick","clear"],"sourceRoot":"src/components/editor","sources":["TEditor.vue"],"sourcesContent":["<template>\r\n  <div class=\"tinymce-box\">\r\n    <Editor v-model=\"contentValue\" :init=\"init\" :disabled=\"disabled\" @onClick=\"onClick\" />\r\n    <el-dialog\r\n        title=\"上传进度\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"30%\"\r\n        :before-close=\"handleClose\"\r\n    >\r\n      <span>上传进度：\r\n        <el-progress :percentage=\"process\" :format=\"format\"></el-progress>\r\n      </span>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"cancleUpload\" :disabled=\"this.cantCancle\">取消上传</el-button>\r\n  </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {uploadImg,uploadVideo,uploadFile} from '@/api/api'\r\nimport axios from \"axios\";\r\nimport Vue from 'vue'\r\nimport Editor from '@tinymce/tinymce-vue'\r\nimport tinymce from 'tinymce/tinymce' //tinymce默认hidden，不引入则不显示编辑器\r\nimport 'tinymce/skins/ui/oxide/skin.css' //不引入不显示\r\nimport 'tinymce/themes//silver'  //编辑器主题，不引入则报错\r\nimport 'tinymce/icons/default'  //引入编辑器图标icon，不引入则不显示对应图标\r\nimport 'tinymce/plugins/advlist'  //高级列表\r\nimport 'tinymce/plugins/anchor'  //锚点\r\nimport 'tinymce/plugins/autolink'  //自动链接\r\nimport 'tinymce/plugins/autoresize'  //编辑器高度自适应,注：plugins里引入此插件时，Init里设置的height将失效\r\nimport 'tinymce/plugins/autosave'  //自动存稿\r\nimport 'tinymce/plugins/charmap'  //特殊字符\r\nimport 'tinymce/plugins/code'  //编辑源码\r\nimport 'tinymce/plugins/codesample'  //代码示例\r\nimport 'tinymce/plugins/directionality'  //文字方向\r\nimport 'tinymce/plugins/fullpage'  //文档属性\r\nimport 'tinymce/plugins/fullscreen'  //全屏\r\nimport 'tinymce/plugins/help'  //帮助\r\nimport 'tinymce/plugins/hr'  //水平分割线\r\nimport 'tinymce/plugins/image'  //插入编辑图片\r\nimport 'tinymce/plugins/importcss'  //引入css\r\nimport 'tinymce/plugins/insertdatetime'  //插入日期时间\r\nimport 'tinymce/plugins/link'  //超链接\r\nimport 'tinymce/plugins/lists' //列表插件\r\nimport 'tinymce/plugins/media' //插入编辑媒体\r\nimport 'tinymce/plugins/nonbreaking' //插入不间断空格\r\nimport 'tinymce/plugins/pagebreak' //插入分页符\r\nimport 'tinymce/plugins/paste' //粘贴插件\r\nimport 'tinymce/plugins/preview'//预览\r\nimport 'tinymce/plugins/quickbars'  //快速工具栏\r\nimport 'tinymce/plugins/save'  //保存\r\nimport 'tinymce/plugins/searchreplace'  //查找替换\r\nimport 'tinymce/plugins/tabfocus'  //切入切出，按tab键切出编辑器，切入页面其他输入框中\r\nimport 'tinymce/plugins/table'  //表格\r\nimport 'tinymce/plugins/template'  //内容模板\r\nimport 'tinymce/plugins/textcolor'  //文字颜色\r\nimport 'tinymce/plugins/textpattern'  //快速排版\r\nimport 'tinymce/plugins/toc'  //目录生成器\r\nimport 'tinymce/plugins/visualblocks'  //显示元素范围\r\nimport 'tinymce/plugins/visualchars'  //显示不可见字符\r\nimport 'tinymce/plugins/wordcount'  //字数统计\r\nVue.prototype.axios = axios;\r\nexport default {\r\n  name: \"TEditor\",\r\n  components: {Editor},\r\n  props: {\r\n    myKey:{\r\n      type: String,\r\n      default: ''\r\n    },\r\n    value: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    plugins: {\r\n      type: [String, Array],\r\n      default: 'preview searchreplace autolink directionality visualblocks visualchars fullscreen image link media template code codesample table charmap hr pagebreak nonbreaking anchor insertdatetime advlist lists wordcount textpattern autosave '\r\n    },\r\n    toolbar: {\r\n      type: [String, Array],\r\n      default: 'fullscreen undo redo restoredraft | cut copy paste pastetext | forecolor backcolor bold italic underline strikethrough link anchor | alignleft aligncenter alignright alignjustify outdent indent | \\\r\n                styleselect formatselect fontselect fontsizeselect | bullist numlist | blockquote subscript superscript removeformat | \\\r\n                table image media charmap hr pagebreak insertdatetime  preview | code selectall searchreplace visualblocks | indent2em lineheight formatpainter axupimgs'\r\n    }\r\n  },\r\n    data() {\r\n      return {\r\n        cantCancle: false,\r\n        dialogVisible:false,\r\n        process: 0,\r\n        CancelToken: \"\",         //用于取消上传\r\n        source:\"\",               //用于取消上传\r\n        init: {\r\n          media_live_embeds: true,\r\n          language_url: '/tinymce/langs/zh_CN.js',  //引入语言包文件\r\n          language: 'zh_CN',  //语言类型\r\n          // skin_url: '/tinymce/skins/ui/oxide',  //皮肤：浅色\r\n          plugins: this.plugins,  //插件配置\r\n          toolbar: this.toolbar,  //工具栏配置，设为false则隐藏\r\n          fontsize_formats: '12px 14px 16px 18px 20px 22px 24px 28px 32px 36px 48px 56px 72px',  //字体大小\r\n          font_formats: '微软雅黑=Microsoft YaHei,Helvetica Neue,PingFang SC,sans-serif;苹果苹方=PingFang SC,Microsoft YaHei,sans-serif;宋体=simsun,serif;仿宋体=FangSong,serif;黑体=SimHei,sans-serif;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;',  //字体样式\r\n          lineheight_formats: \"0.5 0.8 1 1.2 1.5 1.75 2 2.5 3 4 5\",  //行高配置，也可配置成\"12px 14px 16px 20px\"这种形式\r\n          height: 400,  //注：引入autoresize插件时，此属性失效\r\n          placeholder: '在这里编辑案例',\r\n          branding: false,  //tiny技术支持信息是否显示\r\n          resize: false,  //编辑器宽高是否可变，false-否,true-高可变，'both'-宽高均可，注意引号\r\n          elementpath: false,  //元素路径是否显示\r\n          content_style: \"img {max-width:100%;}\", //直接自定义可编辑区域的css样式\r\n          // images_upload_url: '/apib/api-upload/uploadimg',  //后端处理程序的url，建议直接自定义上传函数image_upload_handler，这个就可以不用了\r\n          // images_upload_base_path: '/demo',  //相对基本路径--关于图片上传建议查看--http://tinymce.ax-z.cn/general/upload-images.php\r\n          paste_data_images: true,  //图片是否可粘贴\r\n          images_upload_handler: (blobInfo, success, failure) => {\r\n            if(this.myKey===\"\"){\r\n              alert(\"初始化中，请稍候\")\r\n              return\r\n            }\r\n            if (blobInfo.blob().size / 1024 / 1024 > 2) {\r\n              failure(\"上传失败，图片大小请控制在 2M 以内\")\r\n            } else {\r\n              let params = new FormData()\r\n              params.append('file', blobInfo.blob())\r\n              let config = {\r\n                headers: {\r\n                  \"Key\": this.myKey,\r\n                  \"Content-Type\": \"multipart/form-data\"\r\n                }\r\n              }\r\n              this.axios.post(uploadImg, params, config).then(res => {\r\n                if (res.data.code > -1) {\r\n                  success(res.data.data)  //上传成功，在成功函数里填入图片路径\r\n                } else {\r\n                  failure(\"上传失败\")\r\n                }\r\n              }).catch(() => {\r\n                failure(\"上传出错，服务器开小差了呢\")\r\n              })\r\n            }\r\n          },\r\n          file_callback: function(file, succFun){\r\n            console.log(1234566777777)\r\n            succFun(123456,{text: 'xx.pdf'})\r\n          },\r\n          file_picker_types: 'image media file',  //分别对应三个类型文件的上传：link插件，image插件，media插件\r\n          file_picker_callback: (callback,value, meta)=>{\r\n            console.log(meta)\r\n            if(this.myKey===\"\"){\r\n              alert(\"初始化中，请稍候\")\r\n              return\r\n            }\r\n            let filetype='.pdf, .txt, .zip, .rar, .7z, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .mp3, .mp4, .jpg';  //限制文件的上传类型\r\n            let inputElem = document.createElement('input');  //创建文件选择\r\n            inputElem.setAttribute('type', 'file');\r\n            inputElem.setAttribute('accept', filetype);\r\n            inputElem.click();\r\n            inputElem.onchange=()=>{\r\n              let upurl=\"\"\r\n              let file=inputElem.files[0]  //获取文件信息\r\n              console.log(file.type)\r\n              if(file.type.slice(0,5)==='video'){  //判断文件类型\r\n                upurl= uploadVideo\r\n              }else if(file.type.slice(0,5)==='image'){\r\n                upurl= uploadImg\r\n              }else{\r\n                upurl= uploadFile\r\n              }\r\n              if(file.type.slice(0,5)==='image'&&file.size/1024/1024>2){\r\n                console.log(\"上传图片\")\r\n                alert(\"上传失败，图片大小请控制在2M以内\")\r\n              }else if(file.type.slice(0,5)==='video'&&file.size/1024/1024>50){\r\n                console.log(\"这是视频\")\r\n                alert(\"上传失败，视频大小请控制在 100M 以内\")\r\n              }else if(file.size/1024/1024>30){\r\n                console.log(\"上传文件\")\r\n                alert(\"上传失败，文件大小请控制在 20M 以内\")\r\n              }else{\r\n                let params=new FormData()\r\n                params.append('file',file)\r\n                this.CancelToken = this.axios.CancelToken\r\n                this.source = this.CancelToken.source()\r\n                let config={\r\n                  cancelToken: this.source.token,\r\n                  headers:{\r\n                    \"Key\": this.myKey,\r\n                    \"Content-Type\":\"multipart/form-data\"\r\n                  },onUploadProgress: (progressEvent) => {          //进度条\r\n                    if(progressEvent.lengthComputable){\r\n                      this.dialogVisible = true\r\n                      let complete = (( (progressEvent.loaded / progressEvent.total) * 100) | 0);\r\n                      this.process=complete\r\n                      if( complete === 100) {         //成功上传至服务器，等待服务器将文件存储至OSS\r\n                        this.process = 100\r\n                        this.cantCancle = true\r\n                        this.CancelToken = \"\"\r\n                        this.source = \"\"\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n                this.axios.post(upurl,params,config).then(res=>{\r\n                  if(res.data.code>-1){\r\n                    console.log(\"上传成功\")\r\n                    this.dialogVisible = false\r\n                    callback(res.data.data)   //上传成功，在回调函数里填入文件路径\r\n                  }else{\r\n                    this.dialogVisible = false\r\n                    alert(\"案例已提交或\"+res.data.message)\r\n                  }\r\n                }).catch((err)=>{\r\n                  if(this.axios.isCancel(err)) {\r\n                    alert(\"上传取消\")\r\n                    this.process = \"上传以终止\"\r\n                    this.cantCancle = true\r\n                  }else {\r\n                    alert(\"上传出错，服务器开小差了呢\")\r\n                  }\r\n                })\r\n              }\r\n            }\r\n          },\r\n        },\r\n\r\n        contentValue: this.value,\r\n      }\r\n    },\r\n    watch:{\r\n      value (newValue) {\r\n        this.contentValue = newValue\r\n      },\r\n      contentValue (newValue) {\r\n        this.$emit('input', newValue)\r\n      },\r\n    },\r\n    created(){\r\n\r\n    },\r\n    mounted(){\r\n      tinymce.init({})\r\n    },\r\n  methods: {\r\n    format(percentage) {\r\n      return percentage === 100 ? '上传完成，请耐心等待服务器处理，处理完成后将自动关闭弹窗' : `${percentage}%`;\r\n    },\r\n    cancleUpload(){\r\n      if(this.source !== ''){\r\n        this.source.cancel(\"取消上传\")\r\n      }else {\r\n        this.cantCancle = true\r\n      }\r\n    },\r\n    handleClose(){\r\n      this.dialogVisible = false\r\n    },\r\n    // 添加相关的事件，可用的事件参照文档=> https://github.com/tinymce/tinymce-vue => All available events\r\n    onClick(e){\r\n      this.$emit('onClick', e, tinymce)\r\n    },\r\n    //清空内容\r\n    clear(){\r\n      this.contentValue = ''\r\n    },\r\n  },\r\n  }\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}