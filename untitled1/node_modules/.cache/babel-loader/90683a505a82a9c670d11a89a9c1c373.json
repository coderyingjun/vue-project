{"remainingRequest":"C:\\Users\\ying123\\Desktop\\大创\\untitled1 - 副本\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ying123\\Desktop\\大创\\untitled1 - 副本\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\ying123\\Desktop\\大创\\untitled1 - 副本\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ying123\\Desktop\\大创\\untitled1 - 副本\\src\\components\\Usermanage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ying123\\Desktop\\大创\\untitled1 - 副本\\src\\components\\Usermanage.vue","mtime":1621935368000},{"path":"C:\\Users\\ying123\\Desktop\\大创\\untitled1 - 副本\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663663907880},{"path":"C:\\Users\\ying123\\Desktop\\大创\\untitled1 - 副本\\node_modules\\babel-loader\\lib\\index.js","mtime":1663663908297},{"path":"C:\\Users\\ying123\\Desktop\\大创\\untitled1 - 副本\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663663907880},{"path":"C:\\Users\\ying123\\Desktop\\大创\\untitled1 - 副本\\node_modules\\vue-loader\\lib\\index.js","mtime":1663663904553}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gIkAvbmV0d29yay9yZXF1ZXN0IjsKaW1wb3J0IHsgYWRkVXNlciwgZ2V0VXNlckJ5UGFnZSwgcmVzZXRQd2QsIGVkaXRVc2VyLCBkZWxVc2VyLCBnZXRSb2xlTGlzdCwgZWRpdFVzZXJSb2xlLCBnZXRVc2VybnVtIH0gZnJvbSAiQC9hcGkvYXBpIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlVzZXJtYW5hZ2UiLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdG9rZW46ICIiLAogICAgICByb2xlTGlzdDogW10sCiAgICAgIHJvbGVzOiBbewogICAgICAgIHZhbHVlOiAxLAogICAgICAgIGxhYmVsOiAn55So5oi3JwogICAgICB9XSwKICAgICAgYWRkRm9ybVZpc2libGU6IGZhbHNlLAogICAgICBlZGl0Rm9ybVZpc2libGU6IGZhbHNlLAogICAgICByb2xlRm9ybVZpc2FibGU6IGZhbHNlLAogICAgICByb2xlRm9ybTogewogICAgICAgIGlkOiAwLAogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICByb2xlTGlzdDogW10KICAgICAgfSwKICAgICAgYWRkRm9ybTogewogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgcnB0OiAiIiwKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBwb2ludDogIiIsCiAgICAgICAgcm9sZUNvZGU6IDEsCiAgICAgICAgc3RhdHVzQ29kZTogIjEiCiAgICAgIH0sCiAgICAgIGVkaXRGb3JtOiB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgcG9pbnQ6ICIiLAogICAgICAgIHJvbGVDb2RlOiAxLAogICAgICAgIHN0YXR1c0NvZGU6ICIxIgogICAgICB9LAogICAgICBhZGRSdWxlczogewogICAgICAgIHVzZXJuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCNJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5a+G56CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBvaW50OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5Yid5aeL56ev5YiGJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIHR5cGU6ICdudW1iZXInLAogICAgICAgICAgbWVzc2FnZTogJ+enr+WIhuW6lOS4uuaVtOaVsOaVsOWtlycKICAgICAgICB9XSwKICAgICAgICBycHQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fph43lpI3ovpPlhaXlr4bnoIEnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWnk+WQjScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBlZGl0UnVsZXM6IHsKICAgICAgICBwb2ludDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWIneWni+enr+WIhicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICB0eXBlOiAnbnVtYmVyJywKICAgICAgICAgIG1lc3NhZ2U6ICfnp6/liIblupTkuLrmlbTmlbDmlbDlrZcnCiAgICAgICAgfV0sCiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWnk+WQjScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBzZWFyY2g6ICIiLAogICAgICBhbGxEYXRhOiBbXSwKICAgICAgdG90YWw6IDAsCiAgICAgIHBhZ2VzaXplOiAxMCwKICAgICAgcGFnZXNpemVzOiBbMTAsIDIwLCAzMF0sCiAgICAgIGN1cnJlbnRQYWdlOiAxCiAgICB9OwogIH0sCgogIG1ldGhvZHM6IHsKICAgIGNoYW5nZVNpemUoKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgICB0aGlzLmN1cnJlbnRfY2hhbmdlKHRoaXMuY3VycmVudFBhZ2UpOwogICAgfSwKCiAgICBmaWx0ZXJSb2xlKHZhbHVlLCByb3cpIHsKICAgICAgZm9yIChsZXQgaSBvZiByb3cucm9sZVZhbHVlKSB7CiAgICAgICAgaWYgKHZhbHVlID09PSBpKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCgogICAgZmlsdGVyU3RhdHVzKHZhbHVlLCByb3cpIHsKICAgICAgcmV0dXJuIHJvdy5zdGF0dXNDb2RlID09PSB2YWx1ZTsKICAgIH0sCgogICAgY3VycmVudF9jaGFuZ2U6IGZ1bmN0aW9uIChjdXJyZW50UGFnZSkgewogICAgICBsZXQgcGFyYW1zID0gewogICAgICAgIHBhZ2U6IGN1cnJlbnRQYWdlLAogICAgICAgIHNpemU6IHRoaXMucGFnZXNpemUKICAgICAgfTsKCiAgICAgIGlmICh0aGlzLnNlYXJjaCAhPT0gIiIpIHsKICAgICAgICBWdWUuc2V0KHBhcmFtcywgImtleSIsIHRoaXMuc2VhcmNoKTsKICAgICAgfQoKICAgICAgY29uc3QgY29uZmlnID0gewogICAgICAgIHVybDogZ2V0VXNlckJ5UGFnZSwKICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJUb2tlbiI6IHRoaXMudG9rZW4KICAgICAgICB9LAogICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgIH07CiAgICAgIHJlcXVlc3QoY29uZmlnKS50aGVuKGRhdGEgPT4gewogICAgICAgIGlmIChkYXRhLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgdGhpcy50YWJsZURhdGEgPSBkYXRhLmRhdGEuZGF0YS5tYXAodXNlciA9PiB7CiAgICAgICAgICAgIHVzZXIucm9sZVZhbHVlID0gW107CgogICAgICAgICAgICBmb3IgKGxldCBpIG9mIHVzZXIucm9sZXMpIHsKICAgICAgICAgICAgICB1c2VyLnJvbGVWYWx1ZS5wdXNoKGkuaWQpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBsZXQgciA9ICIiOwoKICAgICAgICAgICAgZm9yIChsZXQgaSBvZiB1c2VyLnJvbGVzKSB7CiAgICAgICAgICAgICAgciA9IHIgKyBpLm5hbWUgKyAiOyI7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHVzZXIucm9sZXMgPSByOwogICAgICAgICAgICB1c2VyLnJvbGVzID0gdXNlci5yb2xlcy50b1N0cmluZygpOwoKICAgICAgICAgICAgaWYgKHVzZXIuc3RhdHVzQ29kZSA9PT0gMCkgewogICAgICAgICAgICAgIHVzZXIuc3RhdHVzQ29kZSA9ICLplIHlrpoiOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHVzZXIuc3RhdHVzQ29kZSA9ICLlkK/nlKgiOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gdXNlcjsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChkYXRhLmRhdGEubWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgYWxlcnQoIuacjeWKoeWZqOW8gOWwj+W3ruWVpiIpOwogICAgICB9KTsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IGN1cnJlbnRQYWdlOwogICAgfSwKCiAgICBmaW5kKCkgewogICAgICBpZiAodGhpcy5zZWFyY2ggIT09ICIiKSB7CiAgICAgICAgY29uc3QgcGFyYW0gPSB7CiAgICAgICAgICBwYWdlOiAxLAogICAgICAgICAgc2l6ZTogdGhpcy5wYWdlc2l6ZSwKICAgICAgICAgIGtleTogdGhpcy5zZWFyY2gKICAgICAgICB9OwogICAgICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICAgIHVybDogZ2V0VXNlckJ5UGFnZSwKICAgICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICJUb2tlbiI6IHRoaXMudG9rZW4KICAgICAgICAgIH0sCiAgICAgICAgICBwYXJhbXM6IHBhcmFtCiAgICAgICAgfTsKICAgICAgICByZXF1ZXN0KGNvbmZpZykudGhlbihkYXRhID0+IHsKICAgICAgICAgIGlmIChkYXRhLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IGRhdGEuZGF0YS5kYXRhLm1hcCh1c2VyID0+IHsKICAgICAgICAgICAgICB1c2VyLnJvbGVWYWx1ZSA9IFtdOwoKICAgICAgICAgICAgICBmb3IgKGxldCBpIG9mIHVzZXIucm9sZXMpIHsKICAgICAgICAgICAgICAgIHVzZXIucm9sZVZhbHVlLnB1c2goaS5pZCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBsZXQgciA9ICIiOwoKICAgICAgICAgICAgICBmb3IgKGxldCBpIG9mIHVzZXIucm9sZXMpIHsKICAgICAgICAgICAgICAgIHIgPSByICsgaS5uYW1lICsgIjsiOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdXNlci5yb2xlcyA9IHI7CiAgICAgICAgICAgICAgdXNlci5yb2xlcyA9IHVzZXIucm9sZXMudG9TdHJpbmcoKTsKCiAgICAgICAgICAgICAgaWYgKHVzZXIuc3RhdHVzQ29kZSA9PT0gMCkgewogICAgICAgICAgICAgICAgdXNlci5zdGF0dXNDb2RlID0gIumUgeWumiI7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHVzZXIuc3RhdHVzQ29kZSA9ICLlkK/nlKgiOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIHVzZXI7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLmFsbERhdGEgPSB0aGlzLnRhYmxlRGF0YTsKICAgICAgICAgICAgY29uc3QgY29uZiA9IHsKICAgICAgICAgICAgICB1cmw6IGdldFVzZXJudW0sCiAgICAgICAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAiVG9rZW4iOiB0aGlzLnRva2VuCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgIGtleTogdGhpcy5zZWFyY2gKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJlcXVlc3QoY29uZikudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgICAgIHRoaXMudG90YWwgPSBkYXRhLmRhdGEuZGF0YTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgdGhpcy50b3RhbCA9IHRoaXMudGFibGVEYXRhLmxlbmd0aDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICBhbGVydCgi5pyN5Yqh5Zmo5byA5bCP5beu5ZWmIik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgIGFsZXJ0KCLmnI3liqHlmajlvIDlsI/lt67llaYiKTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBwYXJhbSA9IHsKICAgICAgICAgIHBhZ2U6IDEsCiAgICAgICAgICBzaXplOiB0aGlzLnBhZ2VzaXplCiAgICAgICAgfTsKICAgICAgICBjb25zdCBjb25maWcgPSB7CiAgICAgICAgICB1cmw6IGdldFVzZXJCeVBhZ2UsCiAgICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAiVG9rZW4iOiB0aGlzLnRva2VuCiAgICAgICAgICB9LAogICAgICAgICAgcGFyYW1zOiBwYXJhbQogICAgICAgIH07CiAgICAgICAgcmVxdWVzdChjb25maWcpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICBpZiAoZGF0YS5kYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgdGhpcy5hbGxEYXRhID0gZGF0YS5kYXRhLmRhdGEubWFwKHVzZXIgPT4gewogICAgICAgICAgICAgIHVzZXIucm9sZVZhbHVlID0gW107CgogICAgICAgICAgICAgIGZvciAobGV0IGkgb2YgdXNlci5yb2xlcykgewogICAgICAgICAgICAgICAgdXNlci5yb2xlVmFsdWUucHVzaChpLmlkKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGxldCByID0gIiI7CgogICAgICAgICAgICAgIGZvciAobGV0IGkgb2YgdXNlci5yb2xlcykgewogICAgICAgICAgICAgICAgciA9IHIgKyBpLm5hbWUgKyAiOyI7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB1c2VyLnJvbGVzID0gcjsKICAgICAgICAgICAgICB1c2VyLnJvbGVzID0gdXNlci5yb2xlcy50b1N0cmluZygpOwoKICAgICAgICAgICAgICBpZiAodXNlci5zdGF0dXNDb2RlID09PSAwKSB7CiAgICAgICAgICAgICAgICB1c2VyLnN0YXR1c0NvZGUgPSAi6ZSB5a6aIjsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdXNlci5zdGF0dXNDb2RlID0gIuWQr+eUqCI7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gdXNlcjsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gdGhpcy5hbGxEYXRhOwogICAgICAgICAgICBjb25zdCBjb25mID0gewogICAgICAgICAgICAgIHVybDogZ2V0VXNlcm51bSwKICAgICAgICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICJUb2tlbiI6IHRoaXMudG9rZW4KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJlcXVlc3QoY29uZikudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgICAgIHRoaXMudG90YWwgPSBkYXRhLmRhdGEuZGF0YTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgdGhpcy50b3RhbCA9IHRoaXMudGFibGVEYXRhLmxlbmd0aDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICBhbGVydCgi5pyN5Yqh5Zmo5byA5bCP5beu5ZWmIik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgIGFsZXJ0KCLmnI3liqHlmajlvIDlsI/lt67kuoYiKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICBzaG93QWRkKCkgewogICAgICB0aGlzLmFkZEZvcm0udXNlcm5hbWUgPSAiIjsKICAgICAgdGhpcy5hZGRGb3JtLnBhc3N3b3JkID0gIiI7CiAgICAgIHRoaXMuYWRkRm9ybS5ycHQgPSAiIjsKICAgICAgdGhpcy5hZGRGb3JtLm5hbWUgPSAiIjsKICAgICAgdGhpcy5hZGRGb3JtLnBvaW50ID0gIiI7CiAgICAgIHRoaXMuYWRkRm9ybS5yb2xlQ29kZSA9IDE7CiAgICAgIHRoaXMuYWRkRm9ybS5zdGF0dXNDb2RlID0gIjEiOwogICAgICB0aGlzLmFkZEZvcm1WaXNpYmxlID0gdHJ1ZTsKICAgIH0sCgogICAgYWRkKCkgewogICAgICB0aGlzLiRyZWZzLmFkZEZvcm0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKHRoaXMuYWRkRm9ybS5wYXNzd29yZCAhPT0gdGhpcy5hZGRGb3JtLnJwdCkgewogICAgICAgICAgICBhbGVydCgi5Lik5qyh5a+G56CB6L6T5YWl5LiN55u45ZCM77yM6K+356Gu6K6kIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zdCBjb25maWcgPSB7CiAgICAgICAgICAgICAgdXJsOiBhZGRVc2VyLAogICAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICJUb2tlbiI6IHRoaXMuJHN0b3JlLnN0YXRlLnRva2VuCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy5hZGRGb3JtLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHRoaXMuYWRkRm9ybS5wYXNzd29yZCwKICAgICAgICAgICAgICAgIHJwdDogdGhpcy5hZGRGb3JtLnJwdCwKICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuYWRkRm9ybS5uYW1lLAogICAgICAgICAgICAgICAgcG9pbnQ6IHRoaXMuYWRkRm9ybS5wb2ludCwKICAgICAgICAgICAgICAgIHJvbGVDb2RlOiB0aGlzLmFkZEZvcm0ucm9sZUNvZGUsCiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiB0aGlzLmFkZEZvcm0uc3RhdHVzQ29kZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmVxdWVzdChjb25maWcpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICAgICAgICBhbGVydCgi55So5oi35re75Yqg5oiQ5YqfIik7CiAgICAgICAgICAgICAgICBsZXQgdXNlciA9IGRhdGEuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgIGlmICh1c2VyLnN0YXR1c0NvZGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgdXNlci5zdGF0dXNDb2RlID0gIumUgeWumiI7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB1c2VyLnN0YXR1c0NvZGUgPSAi5ZCv55SoIjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLmFsbERhdGEgPSBkYXRhLmRhdGEuZGF0YS5tYXAodXNlciA9PiB7CiAgICAgICAgICAgICAgICAgIHVzZXIucm9sZVZhbHVlID0gW107CgogICAgICAgICAgICAgICAgICBmb3IgKGxldCBpIG9mIHVzZXIucm9sZXMpIHsKICAgICAgICAgICAgICAgICAgICB1c2VyLnJvbGVWYWx1ZS5wdXNoKGkuaWQpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBsZXQgciA9ICIiOwoKICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSBvZiB1c2VyLnJvbGVzKSB7CiAgICAgICAgICAgICAgICAgICAgciA9IHIgKyBpLm5hbWUgKyAiOyI7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHVzZXIucm9sZXMgPSByOwogICAgICAgICAgICAgICAgICB1c2VyLnJvbGVzID0gdXNlci5yb2xlcy50b1N0cmluZygpOwoKICAgICAgICAgICAgICAgICAgaWYgKHVzZXIuc3RhdHVzQ29kZSA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIHVzZXIuc3RhdHVzQ29kZSA9ICLplIHlrpoiOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHVzZXIuc3RhdHVzQ29kZSA9ICLlkK/nlKgiOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gdXNlcjsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGEgPSB0aGlzLmFsbERhdGE7CiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gdGhpcy50YWJsZURhdGEubGVuZ3RoOwogICAgICAgICAgICAgICAgdGhpcy5maW5kKCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICBhbGVydCgi5pyN5Yqh5Zmo5byA5bCP5beu5ZWmIik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIHNob3dFZGl0KHJvdykgewogICAgICB0aGlzLmVkaXRGb3JtVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuZWRpdEZvcm0uaWQgPSByb3cuaWQ7CiAgICAgIHRoaXMuZWRpdEZvcm0udXNlcm5hbWUgPSByb3cudXNlcm5hbWU7CiAgICAgIHRoaXMuZWRpdEZvcm0ubmFtZSA9IHJvdy5uYW1lOwogICAgICB0aGlzLmVkaXRGb3JtLnBvaW50ID0gcm93LnBvaW50OwoKICAgICAgaWYgKHJvdy5zdGF0dXNDb2RlID09PSAi6ZSB5a6aIikgewogICAgICAgIHRoaXMuZWRpdEZvcm0uc3RhdHVzQ29kZSA9ICIwIjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVkaXRGb3JtLnN0YXR1c0NvZGUgPSAiMSI7CiAgICAgIH0KICAgIH0sCgogICAgc2hvd1JvbGUocm93KSB7CiAgICAgIHRoaXMucm9sZUZvcm0uaWQgPSByb3cuaWQ7CiAgICAgIHRoaXMucm9sZUZvcm0udXNlcm5hbWUgPSByb3cudXNlcm5hbWU7CiAgICAgIHRoaXMucm9sZUZvcm0ucm9sZUxpc3QgPSByb3cucm9sZVZhbHVlOwogICAgICB0aGlzLnJvbGVGb3JtVmlzYWJsZSA9IHRydWU7CiAgICB9LAoKICAgIGVkaXRVUm9sZSgpIHsKICAgICAgY29uc3QgY29uZmlnID0gewogICAgICAgIHVybDogZWRpdFVzZXJSb2xlLAogICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIlRva2VuIjogdGhpcy4kc3RvcmUuc3RhdGUudG9rZW4KICAgICAgICB9LAogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IHRoaXMucm9sZUZvcm0uaWQsCiAgICAgICAgICByb2xlczogdGhpcy5yb2xlRm9ybS5yb2xlTGlzdC50b1N0cmluZygpCiAgICAgICAgfQogICAgICB9OwogICAgICByZXF1ZXN0KGNvbmZpZykudGhlbihkYXRhID0+IHsKICAgICAgICBpZiAoZGF0YS5kYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgIGFsZXJ0KCLnlKjmiLfop5LoibLliIbphY3miJDlip8iKTsKCiAgICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMuYWxsRGF0YSkgewogICAgICAgICAgICBpZiAodGhpcy5hbGxEYXRhW2ldLmlkID09PSB0aGlzLnJvbGVGb3JtLmlkKSB7CiAgICAgICAgICAgICAgVnVlLnNldCh0aGlzLmFsbERhdGFbaV0sICJyb2xlVmFsdWUiLCB0aGlzLnJvbGVGb3JtLnJvbGVMaXN0KTsKICAgICAgICAgICAgICBsZXQgciA9ICIiOwoKICAgICAgICAgICAgICBmb3IgKGxldCBpIG9mIHRoaXMucm9sZUZvcm0ucm9sZUxpc3QpIHsKICAgICAgICAgICAgICAgIGZvciAobGV0IGogb2YgdGhpcy5yb2xlTGlzdCkgewogICAgICAgICAgICAgICAgICBpZiAoai52YWx1ZSA9PT0gaSkgewogICAgICAgICAgICAgICAgICAgIHIgPSByICsgai50ZXh0ICsgIjsiOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBWdWUuc2V0KHRoaXMuYWxsRGF0YVtpXSwgInJvbGVzIiwgcik7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmZpbmQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIGFsZXJ0KCLmnI3liqHlmajlvIDlsI/lt67llaYiKTsKICAgICAgfSk7CiAgICB9LAoKICAgIHJlc2V0UHdkKCkgewogICAgICBjb25zdCBjb25maWcgPSB7CiAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICB1cmw6IHJlc2V0UHdkLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJUb2tlbiI6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhZG1pblRva2VuIikKICAgICAgICB9LAogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IHRoaXMuZWRpdEZvcm0uaWQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJlcXVlc3QoY29uZmlnKS50aGVuKGRhdGEgPT4gewogICAgICAgIGFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTsKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIGFsZXJ0KCLmnI3liqHlmajlvIDlsI/lt67kuoYiKTsKICAgICAgfSk7CiAgICB9LAoKICAgIGVkaXQoKSB7CiAgICAgIHRoaXMuJHJlZnMuZWRpdEZvcm0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgY29uc3QgY29uZmlnID0gewogICAgICAgICAgICB1cmw6IGVkaXRVc2VyLAogICAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICJUb2tlbiI6IHRoaXMuJHN0b3JlLnN0YXRlLnRva2VuCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICBpZDogdGhpcy5lZGl0Rm9ybS5pZCwKICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy5lZGl0Rm9ybS51c2VybmFtZSwKICAgICAgICAgICAgICBuYW1lOiB0aGlzLmVkaXRGb3JtLm5hbWUsCiAgICAgICAgICAgICAgcG9pbnQ6IHRoaXMuZWRpdEZvcm0ucG9pbnQsCiAgICAgICAgICAgICAgc3RhdHVzQ29kZTogdGhpcy5lZGl0Rm9ybS5zdGF0dXNDb2RlCiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgICByZXF1ZXN0KGNvbmZpZykudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgaWYgKGRhdGEuZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICAgICAgYWxlcnQoIueUqOaIt+S/ruaUueaIkOWKnyIpOwogICAgICAgICAgICAgIGxldCB1c2VyID0gZGF0YS5kYXRhLmRhdGE7CgogICAgICAgICAgICAgIGlmICh1c2VyLnN0YXR1c0NvZGUgPT09IDApIHsKICAgICAgICAgICAgICAgIHVzZXIuc3RhdHVzQ29kZSA9ICLplIHlrpoiOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB1c2VyLnN0YXR1c0NvZGUgPSAi5ZCv55SoIjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGZvciAobGV0IGkgaW4gdGhpcy5hbGxEYXRhKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbGxEYXRhW2ldLmlkID09PSB1c2VyLmlkKSB7CiAgICAgICAgICAgICAgICAgIFZ1ZS5zZXQodGhpcy5hbGxEYXRhW2ldLCAibmFtZSIsIHVzZXIubmFtZSk7CiAgICAgICAgICAgICAgICAgIFZ1ZS5zZXQodGhpcy5hbGxEYXRhW2ldLCAic3RhdHVzQ29kZSIsIHVzZXIuc3RhdHVzQ29kZSk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdGhpcy5maW5kKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgIGFsZXJ0KCLmnI3liqHlmajlvIDlsI/lt67llaYiKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIGRlbChyb3cpIHsKICAgICAgY29uc3QgY29uZmlnID0gewogICAgICAgIHVybDogZGVsVXNlciwKICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJUb2tlbiI6IHRoaXMuJHN0b3JlLnN0YXRlLnRva2VuCiAgICAgICAgfSwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICJpZCI6IHJvdy5pZAogICAgICAgIH0KICAgICAgfTsKICAgICAgcmVxdWVzdChjb25maWcpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgaWYgKGRhdGEuZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICBhbGVydCgi5Yig6Zmk5oiQ5YqfIik7CgogICAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLmFsbERhdGEpIHsKICAgICAgICAgICAgaWYgKHRoaXMudGFibGVEYXRhW2ldLmlkID09PSByb3cuaWQpIHsKICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YS5zcGxpY2UoaSwgMSk7CgogICAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlRGF0YS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlID4gMSkgewogICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdGhpcy5jdXJyZW50UGFnZSAtIDE7CiAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudF9jaGFuZ2UodGhpcy5jdXJyZW50UGFnZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gdGhpcy50b3RhbCAtIDE7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmZpbmQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIGFsZXJ0KCLmnI3liqHlmajlvIDlsI/lt67kuoYiKTsKICAgICAgfSk7CiAgICB9CgogIH0sCgogIG1vdW50ZWQoKSB7CiAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhZG1pblRva2VuIik7CgogICAgaWYgKHRva2VuID09IG51bGwgfHwgdG9rZW4gPT09ICIiKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbG9naW4iKTsKICAgIH0KCiAgICB0aGlzLnRva2VuID0gdG9rZW47CiAgICBjb25zdCBwYXJhbSA9IHsKICAgICAgcGFnZTogMSwKICAgICAgc2l6ZTogdGhpcy5wYWdlc2l6ZQogICAgfTsKICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgdXJsOiBnZXRVc2VyQnlQYWdlLAogICAgICBtZXRob2Q6ICdnZXQnLAogICAgICBoZWFkZXJzOiB7CiAgICAgICAgIlRva2VuIjogdG9rZW4KICAgICAgfSwKICAgICAgcGFyYW1zOiBwYXJhbQogICAgfTsKICAgIHJlcXVlc3QoY29uZmlnKS50aGVuKGRhdGEgPT4gewogICAgICBpZiAoZGF0YS5kYXRhLmNvZGUgPT09IDApIHsKICAgICAgICB0aGlzLmFsbERhdGEgPSBkYXRhLmRhdGEuZGF0YS5tYXAodXNlciA9PiB7CiAgICAgICAgICB1c2VyLnJvbGVWYWx1ZSA9IFtdOwoKICAgICAgICAgIGZvciAobGV0IGkgb2YgdXNlci5yb2xlcykgewogICAgICAgICAgICB1c2VyLnJvbGVWYWx1ZS5wdXNoKGkuaWQpOwogICAgICAgICAgfQoKICAgICAgICAgIGxldCByID0gIiI7CgogICAgICAgICAgZm9yIChsZXQgaSBvZiB1c2VyLnJvbGVzKSB7CiAgICAgICAgICAgIHIgPSByICsgaS5uYW1lICsgIjsiOwogICAgICAgICAgfQoKICAgICAgICAgIHVzZXIucm9sZXMgPSByOwogICAgICAgICAgdXNlci5yb2xlcyA9IHVzZXIucm9sZXMudG9TdHJpbmcoKTsKCiAgICAgICAgICBpZiAodXNlci5zdGF0dXNDb2RlID09PSAwKSB7CiAgICAgICAgICAgIHVzZXIuc3RhdHVzQ29kZSA9ICLplIHlrpoiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdXNlci5zdGF0dXNDb2RlID0gIuWQr+eUqCI7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHVzZXI7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy50YWJsZURhdGEgPSB0aGlzLmFsbERhdGE7CiAgICAgICAgY29uc3QgY29uZiA9IHsKICAgICAgICAgIHVybDogZ2V0VXNlcm51bSwKICAgICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICJUb2tlbiI6IHRva2VuCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICByZXF1ZXN0KGNvbmYpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICBpZiAoZGF0YS5kYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgdGhpcy50b3RhbCA9IGRhdGEuZGF0YS5kYXRhOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICB0aGlzLnRvdGFsID0gdGhpcy50YWJsZURhdGEubGVuZ3RoOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgIGFsZXJ0KCLmnI3liqHlmajlvIDlsI/lt67llaYiKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhbGVydChkYXRhLmRhdGEubWVzc2FnZSk7CiAgICAgIH0KICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgYWxlcnQoIuacjeWKoeWZqOW8gOWwj+W3ruS6hiIpOwogICAgfSk7CiAgICBjb25zdCBjb25maWcxID0gewogICAgICB1cmw6IGdldFJvbGVMaXN0LAogICAgICBtZXRob2Q6ICdnZXQnLAogICAgICBoZWFkZXJzOiB7CiAgICAgICAgIlRva2VuIjogdG9rZW4KICAgICAgfQogICAgfTsKICAgIHJlcXVlc3QoY29uZmlnMSkudGhlbihkYXRhID0+IHsKICAgICAgaWYgKGRhdGEuZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgdGhpcy5yb2xlTGlzdCA9IGRhdGEuZGF0YS5kYXRhOwogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTsKICAgICAgfQogICAgfSkuY2F0Y2goKCkgPT4gewogICAgICBhbGVydCgi6KeS6Imy6I635Y+W5aSx6LSl77yM5pyN5Yqh5Zmo5byA5bCP5beu5LqGIik7CiAgICB9KTsKICB9Cgp9Ow=="},{"version":3,"mappings":"AA+KA;AACA,SACAA,OADA,EAEAC,aAFA,EAGAC,QAHA,EAIAC,QAJA,EAKAC,OALA,EAMAC,WANA,EAOAC,YAPA,EAQAC,UARA,QASA,WATA;AAUA;AACA;EACAC,kBADA;;EAEAC;IACA;MACAC,SADA;MAEAC,YAFA;MAGAC;QACAC,QADA;QAEAC;MAFA,EAHA;MAOAC,qBAPA;MAQAC,sBARA;MASAC,sBATA;MAUAC;QACAC,KADA;QAEAC,YAFA;QAGAT;MAHA,CAVA;MAeAU;QACAD,YADA;QAEAE,YAFA;QAGAC,OAHA;QAIAf,QAJA;QAKAgB,SALA;QAMAC,WANA;QAOAC;MAPA,CAfA;MAwBAC;QACAR,MADA;QAEAC,YAFA;QAGAE,YAHA;QAIAd,QAJA;QAKAgB,SALA;QAMAC,WANA;QAOAC;MAPA,CAxBA;MAiCAE;QACAR;UAAAS;UAAAC;UAAAC;QAAA,EADA;QAEAT;UAAAO;UAAAC;UAAAC;QAAA,EAFA;QAGAP;UAAAK;UAAAC;UAAAC;QAAA;UAAAC;UAAAF;QAAA,EAHA;QAIAP;UAAAM;UAAAC;UAAAC;QAAA,EAJA;QAKAvB;UAAAqB;UAAAC;UAAAC;QAAA;MALA,CAjCA;MAwCAE;QACAT;UAAAK;UAAAC;UAAAC;QAAA;UAAAC;UAAAF;QAAA,EADA;QAEAtB;UAAAqB;UAAAC;UAAAC;QAAA;MAFA,CAxCA;MA4CAG,aA5CA;MA6CAC,UA7CA;MA8CAC,WA9CA;MA+CAC,QA/CA;MAgDAC,YAhDA;MAiDAC,uBAjDA;MAkDAC;IAlDA;EAoDA,CAvDA;;EAwDAC;IACAC;MACA;MACA;IACA,CAJA;;IAKAC;MACA;QACA;UACA;QACA;MACA;;MACA;IACA,CAZA;;IAaAC;MACA;IACA,CAfA;;IAgBAC;MACA;QACAC,iBADA;QAEAC;MAFA;;MAIA;QACAC;MACA;;MACA;QACAC,kBADA;QAEAC,aAFA;QAGAC;UACA;QADA,CAHA;QAMAC;MANA;MAQAC;QACA;UACA;YACAC;;YACA;cACAA;YACA;;YACA;;YACA;cACAC;YACA;;YACAD;YACAA;;YACA;cACAA;YACA,CAFA,MAEA;cACAA;YACA;;YACA;UACA,CAjBA;QAkBA,CAnBA,MAmBA;UACAE;QACA;MACA,CAvBA,EAuBAC,KAvBA,CAuBA;QACAD;MACA,CAzBA;MA0BA;IACA,CA3DA;;IA4DAE;MACA;QACA;UACAZ,OADA;UAEAC,mBAFA;UAGAY;QAHA;QAKA;UACAV,kBADA;UAEAC,aAFA;UAGAC;YACA;UADA,CAHA;UAMAC;QANA;QAQAC;UACA;YACA;cACAC;;cACA;gBACAA;cACA;;cACA;;cACA;gBACAC;cACA;;cACAD;cACAA;;cACA;gBACAA;cACA,CAFA,MAEA;gBACAA;cACA;;cACA;YACA,CAjBA;YAkBA;YACA;cACAL,eADA;cAEAC,aAFA;cAGAC;gBACA;cADA,CAHA;cAMAC;gBACAO;cADA;YANA;YAUAN;cACA;gBACA;cACA,CAFA,MAEA;gBACAG;gBACA;cACA;YACA,CAPA,EAOAC,KAPA,CAOA;cACAD;YACA,CATA;UAUA,CAxCA,MAwCA;YACAA;UACA;QACA,CA5CA,EA4CAC,KA5CA,CA4CA;UACAD;QACA,CA9CA;QA+CA;MACA,CA9DA,MA+DA;QACA;UACAV,OADA;UAEAC;QAFA;QAIA;UACAE,kBADA;UAEAC,aAFA;UAGAC;YACA;UADA,CAHA;UAMAC;QANA;QAQAC;UACA;YACA;cACAC;;cACA;gBACAA;cACA;;cACA;;cACA;gBACAC;cACA;;cACAD;cACAA;;cACA;gBACAA;cACA,CAFA,MAEA;gBACAA;cACA;;cACA;YACA,CAjBA;YAkBA;YACA;cACAL,eADA;cAEAC,aAFA;cAGAC;gBACA;cADA;YAHA;YAOAE;cACA;gBACA;cACA,CAFA,MAEA;gBACAG;gBACA;cACA;YACA,CAPA,EAOAC,KAPA,CAOA;cACAD;YACA,CATA;UAUA,CArCA,MAqCA;YACAA;UACA;QACA,CAzCA,EAyCAC,KAzCA,CAyCA;UACAD;QACA,CA3CA;MA4CA;IACA,CAtLA;;IAuLAI;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CAhMA;;IAiMAC;MACA;QACA;UACA;YACAL;UACA,CAFA,MAEA;YACA;cACAP,YADA;cAEAC,cAFA;cAGAC;gBACA;cADA,CAHA;cAMA1C;gBACAW,+BADA;gBAEAE,+BAFA;gBAGAC,qBAHA;gBAIAf,uBAJA;gBAKAgB,yBALA;gBAMAC,+BANA;gBAOAC;cAPA;YANA;YAgBA2B;cACA;gBACAG;gBACA;;gBACA;kBACAF;gBACA,CAFA,MAEA;kBACAA;gBACA;;gBACA;kBACAA;;kBACA;oBACAA;kBACA;;kBACA;;kBACA;oBACAC;kBACA;;kBACAD;kBACAA;;kBACA;oBACAA;kBACA,CAFA,MAEA;oBACAA;kBACA;;kBACA;gBACA,CAjBA;gBAkBA;gBACA;gBACA;cACA,CA7BA,MA6BA;gBACAE;cACA;YACA,CAjCA,EAiCAC,KAjCA,CAiCA;cACAD;YACA,CAnCA;UAoCA;QACA;MACA,CA3DA;IA4DA,CA9PA;;IA+PAM;MACA;MACA;MACA;MACA;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CA1QA;;IA2QAC;MACA;MACA;MACA;MACA;IACA,CAhRA;;IAiRAC;MACA;QACAf,iBADA;QAEAC,aAFA;QAGAC;UACA;QADA,CAHA;QAMAC;UACAjC,oBADA;UAEAP;QAFA;MANA;MAWAyC;QACA;UACAG;;UACA;YACA;cACAR;cACA;;cACA;gBACA;kBACA;oBACAO;kBACA;gBACA;cACA;;cACAP;cACA;YACA;UACA;;UACA;QACA,CAlBA,MAkBA;UACAQ;QACA;MACA,CAtBA,EAsBAC,KAtBA,CAsBA;QACAD;MACA,CAxBA;IA0BA,CAvTA;;IAwTAtD;MACA;QACAgD,aADA;QAEAD,aAFA;QAGAE;UACA;QADA,CAHA;QAMAC;UACAjC;QADA;MANA;MAUAkC;QACAG;MACA,CAFA,EAEAC,KAFA,CAEA;QACAD;MACA,CAJA;IAKA,CAxUA;;IAyUAS;MACA;QACA;UACA;YACAhB,aADA;YAEAC,cAFA;YAGAC;cACA;YADA,CAHA;YAMA1C;cACAU,oBADA;cAEAC,gCAFA;cAGAZ,wBAHA;cAIAgB,0BAJA;cAKAE;YALA;UANA;UAcA2B;YACA;cACAG;cACA;;cACA;gBACAF;cACA,CAFA,MAEA;gBACAA;cACA;;cACA;gBACA;kBACAN;kBACAA;kBACA;gBACA;cACA;;cACA;YACA,CAhBA,MAgBA;cACAQ;YACA;UACA,CApBA,EAoBAC,KApBA,CAoBA;YACAD;UACA,CAtBA;QAuBA;MACA,CAxCA;IAyCA,CAnXA;;IAoXAU;MACA;QACAjB,YADA;QAEAC,aAFA;QAGAC;UACA;QADA,CAHA;QAMAC;UACA;QADA;MANA;MAUAC;QACA;UACAG;;UACA;YACA;cACA;;cACA;gBACA;kBACA;kBACA;gBACA;cACA;;cACA;cACA;YACA;UACA;;UACA;QACA,CAhBA,MAgBA;UACAA;QACA;MACA,CApBA,EAoBAC,KApBA,CAoBA;QACAD;MACA,CAtBA;IAuBA;;EAtZA,CAxDA;;EAgdAW;IACA;;IACA;MACA;IACA;;IACA;IACA;MACArB,OADA;MAEAC;IAFA;IAIA;MACAE,kBADA;MAEAC,aAFA;MAGAC;QACA;MADA,CAHA;MAMAC;IANA;IAQAC;MACA;QACA;UACAC;;UACA;YACAA;UACA;;UACA;;UACA;YACAC;UACA;;UACAD;UACAA;;UACA;YACAA;UACA,CAFA,MAEA;YACAA;UACA;;UACA;QACA,CAjBA;QAkBA;QACA;UACAL,eADA;UAEAC,aAFA;UAGAC;YACA;UADA;QAHA;QAOAE;UACA;YACA;UACA,CAFA,MAEA;YACAG;YACA;UACA;QACA,CAPA,EAOAC,KAPA,CAOA;UACAD;QACA,CATA;MAUA,CArCA,MAqCA;QACAA;MACA;IACA,CAzCA,EAyCAC,KAzCA,CAyCA;MACAD;IACA,CA3CA;IA4CA;MACAP,gBADA;MAEAC,aAFA;MAGAC;QACA;MADA;IAHA;IAOAE;MACA;QACA;MACA,CAFA,MAEA;QACAG;MACA;IACA,CANA,EAMAC,KANA,CAMA;MACAD;IACA,CARA;EASA;;AA9hBA","names":["addUser","getUserByPage","resetPwd","editUser","delUser","getRoleList","editUserRole","getUsernum","name","data","token","roleList","roles","value","label","addFormVisible","editFormVisible","roleFormVisable","roleForm","id","username","addForm","password","rpt","point","roleCode","statusCode","editForm","addRules","required","message","trigger","type","editRules","tableData","search","allData","total","pagesize","pagesizes","currentPage","methods","changeSize","filterRole","filterStatus","current_change","page","size","Vue","url","method","headers","params","request","user","r","alert","catch","find","key","showAdd","add","showEdit","showRole","editURole","edit","del","mounted"],"sourceRoot":"src/components","sources":["Usermanage.vue"],"sourcesContent":["<template>\r\n  <div>\r\n  <el-row style=\"margin: 0;height: 1%;line-height: 90px\" >\r\n    <el-col :span=\"2\" style=\"text-align: right;margin-left: 3%\" >搜索：</el-col>\r\n    <el-col :span=\"8\" >\r\n      <el-input type=\"text\" v-model=\"search\" placeholder=\"用户名/姓名\" @keyup.enter.native=\"find\"></el-input>\r\n    </el-col>\r\n    <el-col :span=\"4\" >\r\n      <el-button size=\"medium\" style=\"margin-left: 150%\" @click.native=\"showAdd\">添加用户</el-button>\r\n    </el-col>\r\n  </el-row>\r\n    <el-dialog  :visible.sync=\"addFormVisible\" >\r\n      <el-form ref=\"addForm\" :model=\"addForm\" :rules=\"addRules\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n        <el-form-item prop=\"username\"  :label-width=\"'10'\"  style=\"width: 25%;margin-left: 35%\"  >\r\n          <el-input v-model=\"addForm.username\" type=\"text\"  autocomplete=\"off\" placeholder=\"用户名\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item  prop=\"password\" :label-width=\"'10'\" style=\"width: 25%;margin-left: 35%\">\r\n          <el-input v-model=\"addForm.password\" placeholder=\"密码\" type=\"password\"  autocomplete=\"off\" ></el-input>\r\n        </el-form-item>\r\n        <el-form-item  prop=\"rpt\" :label-width=\"'10'\" style=\"width: 25%;margin-left: 35%\">\r\n          <el-input v-model=\"addForm.rpt\" placeholder=\"请重复输入密码\" type=\"password\"  autocomplete=\"off\" ></el-input>\r\n        </el-form-item>\r\n        <el-form-item  prop=\"name\" :label-width=\"'10'\" style=\"width: 25%;margin-left: 35%\">\r\n          <el-input v-model=\"addForm.name\" placeholder=\"姓名\" type=\"text\"  autocomplete=\"off\" ></el-input>\r\n        </el-form-item>\r\n        <el-form-item  prop=\"point\" :label-width=\"'10'\" style=\"width: 25%;margin-left: 35%\">\r\n          <el-input v-model.number=\"addForm.point\" placeholder=\"初始积分\" type=\"text\"  autocomplete=\"off\" ></el-input>\r\n        </el-form-item>\r\n        <el-form-item  :label-width=\"'10'\" style=\"width: 25%;margin-left: 35%\">\r\n        </el-form-item>\r\n        <el-form-item style=\"margin-left: -15%\">\r\n             <el-switch\r\n              style=\"display: block\"\r\n              v-model=\"addForm.statusCode\"\r\n              active-color=\"#13ce66\"\r\n              inactive-color=\"#ff4949\"\r\n              active-value= 1\r\n              inactive-value= 0\r\n              active-text=\"启用\"\r\n              inactive-text=\"锁定\">\r\n          </el-switch>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"add\">确 定 添 加</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <el-dialog  :visible.sync=\"editFormVisible\" >\r\n      <el-form ref=\"editForm\" :model=\"editForm\" :rules=\"editRules\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n        <el-form-item label=\"用户名\"  :label-width=\"'10'\"  style=\"width: 25%;margin-left: 35%\"  >\r\n          <el-input v-model=\"editForm.username\" type=\"text\"  autocomplete=\"off\" placeholder=\"用户名\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item  label=\"姓名\" prop=\"name\" :label-width=\"'10'\" style=\"width: 25%;margin-left: 35%\">\r\n          <el-input v-model=\"editForm.name\" placeholder=\"姓名\" type=\"text\"  autocomplete=\"off\" ></el-input>\r\n        </el-form-item>\r\n        <el-form-item  label=\"积分\" prop=\"point\" :label-width=\"'10'\" style=\"width: 25%;margin-left: 35%\">\r\n          <el-input v-model.number=\"editForm.point\" placeholder=\"积分\" type=\"text\"  autocomplete=\"off\" ></el-input>\r\n        </el-form-item>\r\n        <el-form-item style=\"margin-left: -15%\">\r\n          <el-switch\r\n              style=\"display: block\"\r\n              v-model=\"editForm.statusCode\"\r\n              active-color=\"#13ce66\"\r\n              inactive-color=\"#ff4949\"\r\n              active-value= 1\r\n              inactive-value= 0\r\n              active-text=\"启用\"\r\n              inactive-text=\"锁定\">\r\n          </el-switch>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"resetPwd\">重置密码</el-button>\r\n        <el-button type=\"primary\" @click=\"edit\">保 存 修 改</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <el-dialog  :visible.sync=\"roleFormVisable\" >\r\n      <el-form ref=\"editForm\" :model=\"editForm\" :rules=\"editRules\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n        <el-form-item label=\"用户名\"  :label-width=\"'10'\"  style=\"width: 25%;margin-left: 35%\"  >\r\n          <el-input v-model=\"roleForm.username\" type=\"text\"  autocomplete=\"off\" placeholder=\"用户名\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item   :label-width=\"'10'\"  style=\"\">\r\n          <el-checkbox-group v-model=\"roleForm.roleList\" style=\"line-height: 30px;float: left;\">\r\n            <el-checkbox v-for=\"role in roleList\"  :label=\"role.value\" :key=\"role.value\" >{{role.text}}</el-checkbox>\r\n          </el-checkbox-group>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"editURole\">保 存 修 改</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  <el-table  :data.sync=\"tableData\"\r\n             style=\"width: 90%;margin-left: 5%;line-height: 30px\" border stripe\r\n             >\r\n    <el-table-column prop=\"id\"\r\n                     label=\"编号\" width=\"100\"\r\n                     header-align=\"center\"\r\n                     align=\"center\"\r\n    ></el-table-column>\r\n    <el-table-column prop=\"username\"\r\n                     label=\"用户名\" width=\"160\"\r\n                     header-align=\"center\"\r\n                     align=\"center\">\r\n    </el-table-column>\r\n    <el-table-column prop=\"name\"\r\n                     label=\"姓名\"\r\n                     width=\"140\"\r\n                     header-align=\"center\"\r\n                     align=\"center\">\r\n    </el-table-column>\r\n    <el-table-column prop=\"createTime\"\r\n                     label=\"注册时间\"\r\n                     width=\"230\"\r\n                     header-align=\"center\"\r\n                     align=\"center\">\r\n    </el-table-column>\r\n    <el-table-column prop=\"statusCode\"\r\n                     label=\"账户状态\"\r\n                     width=\"120\"\r\n                     header-align=\"center\"\r\n                     align=\"center\"\r\n                     :filters=\"[{ text: '启用', value: '启用' }, { text: '锁定', value: '锁定' }]\"\r\n                     :filter-method=\"filterStatus\"\r\n                     filter-placement=\"bottom-end\">\r\n      <template slot-scope=\"scope\">\r\n        <el-tag\r\n            :type=\"scope.row.statusCode === '启用' ? 'success' : 'danger'\"\r\n            disable-transitions>{{scope.row.statusCode}}</el-tag>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column prop=\"roles\"\r\n                     label=\"用户身份\"\r\n                     width=\"150\"\r\n                     header-align=\"center\"\r\n                     align=\"center\"\r\n                     :filters=\"roleList\"\r\n                     :filter-method=\"filterRole\"\r\n                     filter-placement=\"bottom-end\">\r\n    </el-table-column>\r\n    <el-table-column header-align=\"center\"\r\n                     align=\"center\"\r\n                     label=\"操作\">\r\n      <template slot-scope=\"scope\">\r\n        <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"showEdit(scope.row)\">编辑</el-button>\r\n        &nbsp;\r\n        <el-popconfirm\r\n            confirm-button-text='好的'\r\n            cancel-button-text='不用了'\r\n            icon=\"el-icon-info\"\r\n            icon-color=\"red\"\r\n            :title=\"'确定删除用户'+scope.row.username+' 吗？'\"\r\n            @confirm=\"del(scope.row)\"\r\n        >\r\n        <el-button slot=\"reference\" type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" >删除</el-button>\r\n        </el-popconfirm>\r\n        &nbsp;\r\n        <el-button type=\"primary\" icon=\"el-icon-s-tools\" size=\"mini\" @click=\"showRole(scope.row)\">配置</el-button>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n    <div style=\"text-align: center;margin-top: 30px;margin-right: 30%\">\r\n      <el-pagination\r\n          background\r\n          :page-size.sync=\"pagesize\"\r\n          :page-sizes.sync=\"pagesizes\"\r\n          layout=\"sizes, prev, pager, next, jumper, ->, total\"\r\n          :total.sync=\"total\"\r\n          @current-change=\"current_change\"\r\n          @size-change=\"changeSize\">\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {request} from \"@/network/request\";\r\nimport {\r\n  addUser,\r\n  getUserByPage,\r\n  resetPwd,\r\n  editUser,\r\n  delUser,\r\n  getRoleList,\r\n  editUserRole,\r\n  getUsernum\r\n} from \"@/api/api\";\r\nimport Vue from 'vue'\r\nexport default {\r\n  name: \"Usermanage\",\r\n  data(){\r\n    return {\r\n      token:\"\",\r\n      roleList:[],\r\n      roles:[{\r\n        value: 1,\r\n        label: '用户'\r\n      }],\r\n      addFormVisible: false,\r\n      editFormVisible: false,\r\n      roleFormVisable:false,\r\n      roleForm:{\r\n        id:0,\r\n        username:\"\",\r\n        roleList:[]\r\n      },\r\n      addForm:{\r\n        username:\"\",\r\n        password:\"\",\r\n        rpt:\"\",\r\n        name:\"\",\r\n        point:\"\",\r\n        roleCode: 1,\r\n        statusCode: \"1\",\r\n      },\r\n      editForm:{\r\n        id:\"\",\r\n        username:\"\",\r\n        password:\"\",\r\n        name:\"\",\r\n        point:\"\",\r\n        roleCode: 1,\r\n        statusCode: \"1\",\r\n      },\r\n      addRules:{\r\n        username: [{required: true, message: '请输入用户名', trigger: 'blur'}],\r\n        password: [{required: true, message: '请输入密码', trigger: 'blur'}],\r\n        point: [{required: true, message: '请输入初始积分', trigger: 'blur'},{type: 'number',message:'积分应为整数数字'}],\r\n        rpt:[{required: true, message: '请重复输入密码', trigger: 'blur'}],\r\n        name:[{required: true, message: '请输入姓名', trigger: 'blur'}],\r\n      },\r\n      editRules:{\r\n        point: [{required: true, message: '请输入初始积分', trigger: 'blur'},{type: 'number',message:'积分应为整数数字'}],\r\n        name:[{required: true, message: '请输入姓名', trigger: 'blur'}]\r\n      },\r\n      tableData: [],\r\n      search: \"\",\r\n      allData: [],\r\n      total: 0,\r\n      pagesize:10,\r\n      pagesizes:[10,20,30],\r\n      currentPage:1\r\n    }\r\n  },\r\n  methods:{\r\n    changeSize(){\r\n      this.currentPage=1\r\n      this.current_change(this.currentPage)\r\n    },\r\n    filterRole(value, row){\r\n      for(let i of row.roleValue){\r\n        if(value===i){\r\n          return true\r\n        }\r\n      }\r\n      return false\r\n    },\r\n    filterStatus(value, row){\r\n      return row.statusCode === value\r\n    },\r\n    current_change:function(currentPage){\r\n      let params={\r\n        page:currentPage,\r\n        size:this.pagesize\r\n      }\r\n      if(this.search !== \"\"){\r\n        Vue.set(params,\"key\",this.search)\r\n      }\r\n      const config={\r\n        url: getUserByPage,\r\n        method: 'get',\r\n        headers: {\r\n          \"Token\": this.token\r\n        },\r\n        params:params\r\n      }\r\n      request(config).then((data)=>{\r\n        if(data.data.code===0){\r\n          this.tableData=data.data.data.map((user)=>{\r\n            user.roleValue=[]\r\n            for(let i of user.roles){\r\n              user.roleValue.push(i.id)\r\n            }\r\n            let r=\"\"\r\n            for(let i of user.roles){\r\n              r = r+i.name+\";\"\r\n            }\r\n            user.roles=r\r\n            user.roles=user.roles.toString()\r\n            if(user.statusCode===0){\r\n              user.statusCode=\"锁定\"\r\n            }else{\r\n              user.statusCode=\"启用\"\r\n            }\r\n            return user\r\n          })\r\n        } else {\r\n          alert(data.data.message)\r\n        }\r\n      }).catch(()=>{\r\n        alert(\"服务器开小差啦\")\r\n      })\r\n      this.currentPage = currentPage;\r\n    },\r\n    find(){\r\n      if(this.search !==\"\"){\r\n        const param={\r\n          page:1,\r\n          size:this.pagesize,\r\n          key:this.search\r\n        }\r\n        const config={\r\n          url: getUserByPage,\r\n          method: 'get',\r\n          headers: {\r\n            \"Token\": this.token\r\n          },\r\n          params:param\r\n        }\r\n        request(config).then((data)=>{\r\n          if(data.data.code===0){\r\n            this.tableData=data.data.data.map((user)=>{\r\n              user.roleValue=[]\r\n              for(let i of user.roles){\r\n                user.roleValue.push(i.id)\r\n              }\r\n              let r=\"\"\r\n              for(let i of user.roles){\r\n                r = r+i.name+\";\"\r\n              }\r\n              user.roles=r\r\n              user.roles=user.roles.toString()\r\n              if(user.statusCode===0){\r\n                user.statusCode=\"锁定\"\r\n              }else{\r\n                user.statusCode=\"启用\"\r\n              }\r\n              return user\r\n            })\r\n            this.allData=this.tableData\r\n            const conf={\r\n              url: getUsernum,\r\n              method: 'get',\r\n              headers: {\r\n                \"Token\": this.token\r\n              },\r\n              params:{\r\n                key:this.search\r\n              }\r\n            }\r\n            request(conf).then((data)=>{\r\n              if(data.data.code===0){\r\n                this.total=data.data.data\r\n              }else {\r\n                alert(data.data.message)\r\n                this.total=this.tableData.length\r\n              }\r\n            }).catch(()=>{\r\n              alert(\"服务器开小差啦\")\r\n            })\r\n          }else {\r\n            alert(data.data.message)\r\n          }\r\n        }).catch(()=>{\r\n          alert(\"服务器开小差啦\")\r\n        })\r\n        this.currentPage = 1;\r\n      }\r\n      else {\r\n        const param={\r\n          page:1,\r\n          size:this.pagesize\r\n        }\r\n        const config={\r\n          url: getUserByPage,\r\n          method: 'get',\r\n          headers: {\r\n            \"Token\": this.token\r\n          },\r\n          params:param\r\n        }\r\n        request(config).then((data)=>{\r\n          if(data.data.code===0){\r\n            this.allData=data.data.data.map((user)=>{\r\n              user.roleValue=[]\r\n              for(let i of user.roles){\r\n                user.roleValue.push(i.id)\r\n              }\r\n              let r=\"\"\r\n              for(let i of user.roles){\r\n                r = r+i.name+\";\"\r\n              }\r\n              user.roles=r\r\n              user.roles=user.roles.toString()\r\n              if(user.statusCode===0){\r\n                user.statusCode=\"锁定\"\r\n              }else{\r\n                user.statusCode=\"启用\"\r\n              }\r\n              return user\r\n            })\r\n            this.tableData=this.allData\r\n            const conf={\r\n              url: getUsernum,\r\n              method: 'get',\r\n              headers: {\r\n                \"Token\": this.token\r\n              },\r\n            }\r\n            request(conf).then((data)=>{\r\n              if(data.data.code===0){\r\n                this.total=data.data.data\r\n              }else {\r\n                alert(data.data.message)\r\n                this.total=this.tableData.length\r\n              }\r\n            }).catch(()=>{\r\n              alert(\"服务器开小差啦\")\r\n            })\r\n          }else{\r\n            alert(data.data.message)\r\n          }\r\n        }).catch(()=>{\r\n          alert(\"服务器开小差了\")\r\n        })\r\n      }\r\n    },\r\n    showAdd(){\r\n      this.addForm.username=\"\"\r\n      this.addForm.password=\"\"\r\n      this.addForm.rpt=\"\"\r\n      this.addForm.name=\"\"\r\n      this.addForm.point=\"\"\r\n      this.addForm.roleCode= 1\r\n      this.addForm.statusCode= \"1\"\r\n      this.addFormVisible=true\r\n    },\r\n    add(){\r\n      this.$refs.addForm.validate((valid)=>{\r\n        if(valid){\r\n          if(this.addForm.password!==this.addForm.rpt){\r\n            alert(\"两次密码输入不相同，请确认\")\r\n          }else{\r\n            const config={\r\n              url:addUser,\r\n              method: \"post\",\r\n              headers:{\r\n                \"Token\": this.$store.state.token\r\n              },\r\n              data:{\r\n                username:this.addForm.username,\r\n                password:this.addForm.password,\r\n                rpt:this.addForm.rpt,\r\n                name:this.addForm.name,\r\n                point:this.addForm.point,\r\n                roleCode:this.addForm.roleCode,\r\n                statusCode:this.addForm.statusCode\r\n              }\r\n            }\r\n            request(config).then((data)=>{\r\n              if(data.data.code===0){\r\n                alert(\"用户添加成功\")\r\n                let user=data.data.data;\r\n                if(user.statusCode===0){\r\n                  user.statusCode=\"锁定\"\r\n                }else{\r\n                  user.statusCode=\"启用\"\r\n                }\r\n                this.allData=data.data.data.map((user)=>{\r\n                  user.roleValue=[]\r\n                  for(let i of user.roles){\r\n                    user.roleValue.push(i.id)\r\n                  }\r\n                  let r=\"\"\r\n                  for(let i of user.roles){\r\n                    r = r+i.name+\";\"\r\n                  }\r\n                  user.roles=r\r\n                  user.roles=user.roles.toString()\r\n                  if(user.statusCode===0){\r\n                    user.statusCode=\"锁定\"\r\n                  }else{\r\n                    user.statusCode=\"启用\"\r\n                  }\r\n                  return user\r\n                })\r\n                this.tableData=this.allData\r\n                this.total=this.tableData.length\r\n                this.find()\r\n              }else{\r\n                alert(data.data.message)\r\n              }\r\n            }).catch(()=>{\r\n              alert(\"服务器开小差啦\")\r\n            })\r\n          }\r\n        }\r\n      })\r\n    },\r\n    showEdit(row){\r\n      this.editFormVisible=true\r\n      this.editForm.id=row.id\r\n      this.editForm.username=row.username\r\n      this.editForm.name=row.name\r\n      this.editForm.point=row.point\r\n      if(row.statusCode===\"锁定\"){\r\n        this.editForm.statusCode=\"0\"\r\n      }else{\r\n        this.editForm.statusCode=\"1\"\r\n      }\r\n    },\r\n    showRole(row){\r\n      this.roleForm.id=row.id\r\n      this.roleForm.username=row.username\r\n      this.roleForm.roleList=row.roleValue\r\n      this.roleFormVisable=true\r\n    },\r\n    editURole(){\r\n      const config={\r\n        url:editUserRole,\r\n        method: \"get\",\r\n        headers:{\r\n          \"Token\": this.$store.state.token\r\n        },\r\n        params:{\r\n          id:this.roleForm.id,\r\n          roles:this.roleForm.roleList.toString()\r\n        }\r\n      }\r\n      request(config).then((data)=>{\r\n        if(data.data.code===0){\r\n          alert(\"用户角色分配成功\")\r\n          for(let i in this.allData){\r\n            if(this.allData[i].id===this.roleForm.id){\r\n              Vue.set(this.allData[i],\"roleValue\",this.roleForm.roleList)\r\n              let r=\"\"\r\n              for(let i of this.roleForm.roleList){\r\n                for(let j of this.roleList){\r\n                  if(j.value===i){\r\n                    r=r+j.text+\";\"\r\n                  }\r\n                }\r\n              }\r\n              Vue.set(this.allData[i],\"roles\",r)\r\n              break\r\n            }\r\n          }\r\n          this.find()\r\n        }else{\r\n          alert(data.data.message)\r\n        }\r\n      }).catch(()=>{\r\n        alert(\"服务器开小差啦\")\r\n      })\r\n\r\n    },\r\n    resetPwd(){\r\n      const config={\r\n        method:'get',\r\n        url:resetPwd,\r\n        headers:{\r\n          \"Token\": localStorage.getItem(\"adminToken\")\r\n        },\r\n        params:{\r\n          id: this.editForm.id\r\n        }\r\n      }\r\n      request(config).then((data)=>{\r\n        alert(data.data.message)\r\n      }).catch(()=>{\r\n        alert(\"服务器开小差了\")\r\n      })\r\n    },\r\n    edit(){\r\n      this.$refs.editForm.validate((valid)=>{\r\n        if(valid){\r\n            const config={\r\n              url:editUser,\r\n              method: \"post\",\r\n              headers:{\r\n                \"Token\": this.$store.state.token\r\n              },\r\n              data:{\r\n                id:this.editForm.id,\r\n                username:this.editForm.username,\r\n                name:this.editForm.name,\r\n                point:this.editForm.point,\r\n                statusCode:this.editForm.statusCode\r\n              }\r\n            }\r\n            request(config).then((data)=>{\r\n              if(data.data.code===0){\r\n                alert(\"用户修改成功\")\r\n                let user=data.data.data;\r\n                if(user.statusCode===0){\r\n                  user.statusCode=\"锁定\"\r\n                }else{\r\n                  user.statusCode=\"启用\"\r\n                }\r\n                for(let i in this.allData){\r\n                  if(this.allData[i].id===user.id){\r\n                    Vue.set(this.allData[i],\"name\",user.name)\r\n                    Vue.set(this.allData[i],\"statusCode\",user.statusCode)\r\n                    break\r\n                  }\r\n                }\r\n                this.find()\r\n              }else{\r\n                alert(data.data.message)\r\n              }\r\n            }).catch(()=>{\r\n              alert(\"服务器开小差啦\")\r\n            })\r\n        }\r\n      })\r\n    },\r\n    del(row){\r\n      const config={\r\n        url:delUser,\r\n        method: \"get\",\r\n        headers:{\r\n          \"Token\": this.$store.state.token\r\n        },\r\n        params:{\r\n          \"id\": row.id\r\n        }\r\n      }\r\n      request(config).then((data)=>{\r\n        if(data.data.code===0){\r\n          alert(\"删除成功\")\r\n          for(let i in this.allData){\r\n            if(this.tableData[i].id===row.id){\r\n              this.tableData.splice(i,1)\r\n              if(this.tableData.length===0){\r\n                if(this.currentPage>1){\r\n                  this.currentPage=this.currentPage-1\r\n                  this.current_change(this.currentPage)\r\n                }\r\n              }\r\n              this.total=this.total-1\r\n              break\r\n            }\r\n          }\r\n          this.find()\r\n        }else{\r\n          alert(data.data.message)\r\n        }\r\n      }).catch(()=>{\r\n        alert(\"服务器开小差了\")\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    const token=localStorage.getItem(\"adminToken\")\r\n    if(token==null||token===\"\"){\r\n      this.$router.push(\"/login\")\r\n    }\r\n    this.token=token\r\n    const param={\r\n      page:1,\r\n      size:this.pagesize\r\n    }\r\n    const config={\r\n      url: getUserByPage,\r\n      method: 'get',\r\n      headers: {\r\n        \"Token\": token\r\n      },\r\n      params:param\r\n    }\r\n    request(config).then((data)=>{\r\n      if(data.data.code===0){\r\n        this.allData=data.data.data.map((user)=>{\r\n          user.roleValue=[]\r\n          for(let i of user.roles){\r\n            user.roleValue.push(i.id)\r\n          }\r\n          let r=\"\"\r\n          for(let i of user.roles){\r\n            r = r+i.name+\";\"\r\n          }\r\n          user.roles=r\r\n          user.roles=user.roles.toString()\r\n          if(user.statusCode===0){\r\n            user.statusCode=\"锁定\"\r\n          }else{\r\n            user.statusCode=\"启用\"\r\n          }\r\n          return user\r\n        })\r\n        this.tableData=this.allData\r\n        const conf={\r\n          url: getUsernum,\r\n          method: 'get',\r\n          headers: {\r\n            \"Token\": token\r\n          },\r\n        }\r\n        request(conf).then((data)=>{\r\n          if(data.data.code===0){\r\n            this.total=data.data.data\r\n          }else {\r\n            alert(data.data.message)\r\n            this.total=this.tableData.length\r\n          }\r\n        }).catch(()=>{\r\n          alert(\"服务器开小差啦\")\r\n        })\r\n      }else{\r\n        alert(data.data.message)\r\n      }\r\n    }).catch(()=>{\r\n      alert(\"服务器开小差了\")\r\n    })\r\n    const config1={\r\n      url: getRoleList,\r\n      method: 'get',\r\n      headers: {\r\n        \"Token\": token\r\n      }\r\n    }\r\n    request(config1).then((data)=>{\r\n      if(data.data.code===0){\r\n        this.roleList=data.data.data\r\n      }else{\r\n        alert(data.data.message)\r\n      }\r\n    }).catch(()=>{\r\n      alert(\"角色获取失败，服务器开小差了\")\r\n    })\r\n  }\r\n}\r\n</script>\r\n.el-table .warning-row {\r\n  background: oldlace;\r\n}\r\n<style scoped>\r\n\r\n</style>"]}]}