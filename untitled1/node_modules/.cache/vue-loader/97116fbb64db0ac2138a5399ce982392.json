{"remainingRequest":"C:\\Users\\ying123\\Desktop\\大创\\untitled1 - 副本\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ying123\\Desktop\\大创\\untitled1 - 副本\\src\\components\\Noticemanage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ying123\\Desktop\\大创\\untitled1 - 副本\\src\\components\\Noticemanage.vue","mtime":1621255170000},{"path":"C:\\Users\\ying123\\Desktop\\大创\\untitled1 - 副本\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663663907880},{"path":"C:\\Users\\ying123\\Desktop\\大创\\untitled1 - 副本\\node_modules\\babel-loader\\lib\\index.js","mtime":1663663908297},{"path":"C:\\Users\\ying123\\Desktop\\大创\\untitled1 - 副本\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663663907880},{"path":"C:\\Users\\ying123\\Desktop\\大创\\untitled1 - 副本\\node_modules\\vue-loader\\lib\\index.js","mtime":1663663904553}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQge3JlcXVlc3R9IGZyb20gIkAvbmV0d29yay9yZXF1ZXN0IjsNCmltcG9ydCB7YWRkTm90aWNlLGVkaXROb3RpY2UsZ2V0Tm90aWNlcyxkZWxOb3RpY2UsZ2V0Tm90aWNlfSBmcm9tICJAL2FwaS9hcGkiOw0KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJOb3RpY2VtYW5hZ2UiLA0KICBkYXRhKCl7DQogICAgcmV0dXJuIHsNCiAgICAgIGFkZEZvcm1WaXNpYmxlOiBmYWxzZSwNCiAgICAgIGVkaXRGb3JtVmlzaWJsZTogZmFsc2UsDQogICAgICBhZGRGb3JtOnsNCiAgICAgICAgdGl0bGU6IiIsDQogICAgICAgIGNvbnRlbnQ6IiINCiAgICAgIH0sDQogICAgICBlZGl0Rm9ybTp7DQogICAgICAgIGlkOiIiLA0KICAgICAgICBhdXRob3I6IiIsDQogICAgICAgIHRpdGxlOiIiLA0KICAgICAgICBjb250ZW50OiIiDQogICAgICB9LA0KICAgICAgYWRkUnVsZXM6ew0KICAgICAgICB0aXRsZTogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeexu+WQjScsIHRyaWdnZXI6ICdibHVyJ31dLA0KICAgICAgICBjb250ZW50Olt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXnsbvlkI0nLCB0cmlnZ2VyOiAnYmx1cid9XQ0KICAgICAgfSwNCiAgICAgIGVkaXRSdWxlczp7DQogICAgICAgIHRpdGxlOiBbe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl57G75ZCNJywgdHJpZ2dlcjogJ2JsdXInfV0sDQogICAgICAgIGNvbnRlbnQ6W3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeexu+WQjScsIHRyaWdnZXI6ICdibHVyJ31dDQogICAgICB9LA0KICAgICAgdGFibGVEYXRhOiBbXSwNCiAgICAgIHNlYXJjaDogIiIsDQogICAgICBhbGxEYXRhOiBbXSwNCiAgICAgIHRvdGFsOiA4LA0KICAgICAgcGFnZXNpemU6NywNCiAgICAgIHBhZ2VzaXplczpbNywxNiwyMF0sDQogICAgICBjdXJyZW50UGFnZToxDQogICAgfQ0KICB9LA0KICBtZXRob2RzOnsNCiAgICBjdXJyZW50X2NoYW5nZTpmdW5jdGlvbihjdXJyZW50UGFnZSl7DQogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gY3VycmVudFBhZ2U7DQogICAgfSwNCiAgICBmaW5kKCl7DQogICAgICBpZih0aGlzLnNlYXJjaD09PSIiKXsNCiAgICAgICAgdGhpcy50YWJsZURhdGE9dGhpcy5hbGxEYXRhDQogICAgICAgIHRoaXMudG90YWw9dGhpcy50YWJsZURhdGEubGVuZ3RoDQogICAgICB9DQogICAgICBlbHNlew0KICAgICAgICB0aGlzLnRhYmxlRGF0YT10aGlzLmFsbERhdGEuZmlsdGVyKGk9PnsNCiAgICAgICAgICByZXR1cm4gaS50aXRsZS5pbmRleE9mKHRoaXMuc2VhcmNoKT4tMXx8aS5hdXRob3IuaW5kZXhPZih0aGlzLnNlYXJjaCk+LTENCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICAgIHRoaXMudG90YWw9dGhpcy50YWJsZURhdGEubGVuZ3RoDQogICAgfSwNCiAgICBzaG93QWRkKCl7DQogICAgICB0aGlzLmFkZEZvcm0ubmFtZT0iIg0KICAgICAgdGhpcy5hZGRGb3JtVmlzaWJsZT10cnVlDQogICAgfSwNCiAgICBhZGQoKXsNCiAgICAgIHRoaXMuJHJlZnMuYWRkRm9ybS52YWxpZGF0ZSgodmFsaWQpPT57DQogICAgICAgIGlmKHZhbGlkKXsNCiAgICAgICAgICBjb25zdCBjb25maWc9ew0KICAgICAgICAgICAgdXJsOmFkZE5vdGljZSwNCiAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLA0KICAgICAgICAgICAgaGVhZGVyczp7DQogICAgICAgICAgICAgICJUb2tlbiI6IHRoaXMuJHN0b3JlLnN0YXRlLnRva2VuDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZGF0YTp7DQogICAgICAgICAgICAgIHRpdGxlOnRoaXMuYWRkRm9ybS50aXRsZSwNCiAgICAgICAgICAgICAgY29udGVudDp0aGlzLmFkZEZvcm0uY29udGVudA0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICByZXF1ZXN0KGNvbmZpZykudGhlbigoZGF0YSk9PnsNCiAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5jb2RlPT09MCl7DQogICAgICAgICAgICAgIGFsZXJ0KCLlhazlkYrmt7vliqDmiJDlip8iKQ0KICAgICAgICAgICAgICB0aGlzLmFsbERhdGE9ZGF0YS5kYXRhLmRhdGENCiAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGE9dGhpcy5hbGxEYXRhDQogICAgICAgICAgICAgIHRoaXMudG90YWw9dGhpcy50YWJsZURhdGEubGVuZ3RoDQogICAgICAgICAgICAgIHRoaXMuZmluZCgpDQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkuY2F0Y2goKCk9PnsNCiAgICAgICAgICAgIGFsZXJ0KCLmnI3liqHlmajlvIDlsI/lt67kuoYiKQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBzaG93RWRpdChyb3cpew0KICAgICAgY29uc3QgY29uZmlnPXsNCiAgICAgICAgdXJsOmdldE5vdGljZSwNCiAgICAgICAgbWV0aG9kOiJnZXQiLA0KICAgICAgICBwYXJhbXM6ew0KICAgICAgICAgICJpZCI6cm93LmlkDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJlcXVlc3QoY29uZmlnKS50aGVuKChkYXRhKT0+ew0KICAgICAgICBpZihkYXRhLmRhdGEuY29kZT09PTApew0KICAgICAgICAgIHRoaXMuZWRpdEZvcm09ZGF0YS5kYXRhLmRhdGENCiAgICAgICAgICB0aGlzLmVkaXRGb3JtVmlzaWJsZT10cnVlDQogICAgICAgIH1lbHNlIHsNCiAgICAgICAgICBhbGVydChkYXRhLmRhdGEubWVzc2FnZSkNCiAgICAgICAgfQ0KICAgICAgfSkuY2F0Y2goKCk9PnsNCiAgICAgICAgYWxlcnQoIuacjeWKoeWZqOW8gOWwj+W3ruS6hiIpDQogICAgICB9KQ0KICAgIH0sDQogICAgZWRpdCgpew0KICAgICAgdGhpcy4kcmVmcy5lZGl0Rm9ybS52YWxpZGF0ZSgodmFsaWQpPT57DQogICAgICAgIGlmKHZhbGlkKXsNCiAgICAgICAgICBjb25zdCBjb25maWc9ew0KICAgICAgICAgICAgdXJsOmVkaXROb3RpY2UsDQogICAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwNCiAgICAgICAgICAgIGhlYWRlcnM6ew0KICAgICAgICAgICAgICAiVG9rZW4iOiB0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGRhdGE6ew0KICAgICAgICAgICAgICBpZDp0aGlzLmVkaXRGb3JtLmlkLA0KICAgICAgICAgICAgICB0aXRsZTp0aGlzLmVkaXRGb3JtLnRpdGxlLA0KICAgICAgICAgICAgICBjb250ZW50OnRoaXMuZWRpdEZvcm0uY29udGVudA0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICByZXF1ZXN0KGNvbmZpZykudGhlbigoZGF0YSk9PnsNCiAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5jb2RlPT09MCl7DQogICAgICAgICAgICAgIGFsZXJ0KCLlhazlkYrkv67mlLnmiJDlip8iKQ0KICAgICAgICAgICAgICBsZXQgZmllbGQ9ZGF0YS5kYXRhLmRhdGE7DQogICAgICAgICAgICAgIGZvcihsZXQgaSBpbiB0aGlzLmFsbERhdGEpew0KICAgICAgICAgICAgICAgIGlmKHRoaXMuYWxsRGF0YVtpXS5pZD09PWZpZWxkLmlkKXsNCiAgICAgICAgICAgICAgICAgIFZ1ZS5zZXQodGhpcy5hbGxEYXRhW2ldLCJ0aXRsZSIsZmllbGQudGl0bGUpDQogICAgICAgICAgICAgICAgICBWdWUuc2V0KHRoaXMuYWxsRGF0YVtpXSwiYXV0aG9yIixmaWVsZC5hdXRob3IpDQogICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB0aGlzLmZpbmQoKQ0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgIGFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pLmNhdGNoKCgpPT57DQogICAgICAgICAgICBhbGVydCgi5pyN5Yqh5Zmo5byA5bCP5beu5ZWmIikNCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgZGVsKHJvdyl7DQogICAgICBjb25zdCBjb25maWc9ew0KICAgICAgICB1cmw6ZGVsTm90aWNlLA0KICAgICAgICBtZXRob2Q6ICJnZXQiLA0KICAgICAgICBoZWFkZXJzOnsNCiAgICAgICAgICAiVG9rZW4iOiB0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbg0KICAgICAgICB9LA0KICAgICAgICBwYXJhbXM6ew0KICAgICAgICAgICJpZCI6IHJvdy5pZA0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXF1ZXN0KGNvbmZpZykudGhlbigoZGF0YSk9PnsNCiAgICAgICAgaWYoZGF0YS5kYXRhLmNvZGU9PT0wKXsNCiAgICAgICAgICBhbGVydCgi5Yig6Zmk5oiQ5YqfIikNCiAgICAgICAgICBmb3IobGV0IGkgaW4gdGhpcy5hbGxEYXRhKXsNCiAgICAgICAgICAgIGlmKHRoaXMuYWxsRGF0YVtpXS5pZD09PXJvdy5pZCl7DQogICAgICAgICAgICAgIHRoaXMuYWxsRGF0YS5zcGxpY2UoaSwxKQ0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLmZpbmQoKQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICBhbGVydChkYXRhLmRhdGEubWVzc2FnZSkNCiAgICAgICAgfQ0KICAgICAgfSkuY2F0Y2goKCk9PnsNCiAgICAgICAgYWxlcnQoIuacjeWKoeWZqOW8gOWwj+W3ruS6hiIpDQogICAgICB9KQ0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICBjb25zdCBjb25maWc9ew0KICAgICAgdXJsOiBnZXROb3RpY2VzLA0KICAgICAgbWV0aG9kOiAnZ2V0JywNCiAgICB9DQogICAgcmVxdWVzdChjb25maWcpLnRoZW4oKGRhdGEpPT57DQogICAgICBpZihkYXRhLmRhdGEuY29kZT09PTApew0KICAgICAgICB0aGlzLmFsbERhdGE9ZGF0YS5kYXRhLmRhdGENCiAgICAgICAgdGhpcy50YWJsZURhdGE9dGhpcy5hbGxEYXRhDQogICAgICAgIHRoaXMudG90YWw9dGhpcy50YWJsZURhdGEubGVuZ3RoDQogICAgICB9ZWxzZXsNCiAgICAgICAgYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpDQogICAgICB9DQogICAgfSkuY2F0Y2goKCk9PnsNCiAgICAgIGFsZXJ0KCLmnI3liqHlmajlvIDlsI/lt67kuoYiKQ0KICAgIH0pDQogIH0NCn0NCg=="},{"version":3,"sources":["Noticemanage.vue"],"names":[],"mappings":";AAmGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Noticemanage.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <el-row style=\"margin-left: 14%;height: 1%;line-height: 90px\" >\r\n      <el-col :span=\"2\" style=\"text-align: right;margin-left: 3%\" >搜索：</el-col>\r\n      <el-col :span=\"5\" >\r\n        <el-input type=\"text\" v-model=\"search\" placeholder=\"标题/发布者\" @keyup.native=\"find\"></el-input>\r\n      </el-col>\r\n      <el-col :span=\"4\" >\r\n        <el-button size=\"medium\" style=\"margin-left: 150%\" @click.native=\"showAdd\">添加公告</el-button>\r\n      </el-col>\r\n    </el-row>\r\n    <el-dialog  :visible.sync=\"addFormVisible\" >\r\n      <el-form ref=\"addForm\" :model=\"addForm\" :rules=\"addRules\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n        <el-form-item prop=\"title\"  :label-width=\"'10'\"  style=\"width: 25%;margin-left: 35%\"  >\r\n          <el-input v-model=\"addForm.title\" type=\"text\"  autocomplete=\"off\" placeholder=\"公告标题\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item  prop=\"content\" :label-width=\"'10'\"  style=\"width: 25%;margin-left: 35%\"  >\r\n          <el-input v-model=\"addForm.content\"  type=\"textarea\" autosize autocomplete=\"off\" placeholder=\"公告内容\" ></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"add\">确 定 添 加</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <el-dialog  :visible.sync=\"editFormVisible\" >\r\n      <el-form ref=\"editForm\" :model=\"editForm\" :rules=\"editRules\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n        <el-form-item   :label-width=\"'10'\"  style=\"width: 25%;margin-left: 35%\"  >\r\n          <el-input v-model=\"editForm.id\" type=\"text\"  autocomplete=\"off\" placeholder=\"编号\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item   :label-width=\"'10'\"  style=\"width: 25%;margin-left: 35%\"  >\r\n          <el-input v-model=\"editForm.author\" type=\"text\"  autocomplete=\"off\" placeholder=\"发布者\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item  prop=\"title\" :label-width=\"'10'\"  style=\"width: 25%;margin-left: 35%\"  >\r\n          <el-input v-model=\"editForm.title\" type=\"text\"  autocomplete=\"off\" placeholder=\"公告标题\" ></el-input>\r\n        </el-form-item>\r\n        <el-form-item  prop=\"content\" :label-width=\"'10'\"  style=\"width: 50%;margin-left: 25%\"  >\r\n          <el-input v-model=\"editForm.content\"  type=\"textarea\"   autosize autocomplete=\"off\" placeholder=\"公告内容\" ></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"edit\">保 存 修 改</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <el-table  :data.sync=\"tableData.slice((currentPage-1)*pagesize,currentPage*pagesize)\" style=\"width: 55%;margin-left: 20%;line-height: 30px\" border stripe>\r\n      <el-table-column prop=\"id\"\r\n                       label=\"编号\" width=\"70\"\r\n                       header-align=\"center\"\r\n                       align=\"center\"\r\n      ></el-table-column>\r\n      <el-table-column prop=\"title\"\r\n                       label=\"标题\" width=\"180\"\r\n                       header-align=\"center\"\r\n                       align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"createTime\"\r\n                       label=\"创建时间\"\r\n                       width=\"180\"\r\n                       header-align=\"center\"\r\n                       align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"author\"\r\n                       label=\"发布者\"\r\n                       width=\"100\"\r\n                       header-align=\"center\"\r\n                       align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column header-align=\"center\"\r\n                       align=\"center\"\r\n                       label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"showEdit(scope.row)\">编辑</el-button>\r\n          &nbsp;\r\n          <el-popconfirm\r\n              confirm-button-text='好的'\r\n              cancel-button-text='不用了'\r\n              icon=\"el-icon-info\"\r\n              icon-color=\"red\"\r\n              :title=\"'确定删除 '+scope.row.title+' 这条公告吗'\"\r\n              @confirm=\"del(scope.row)\"\r\n          >\r\n            <el-button slot=\"reference\" type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" >删除</el-button>\r\n          </el-popconfirm>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div style=\"text-align: center;margin-top: 30px;margin-right: 30%\">\r\n      <el-pagination\r\n          background\r\n          :page-size.sync=\"pagesize\"\r\n          :page-sizes.sync=\"pagesizes\"\r\n          layout=\"sizes, prev, pager, next, jumper, ->, total\"\r\n          :total.sync=\"total\"\r\n          @current-change=\"current_change\">\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {request} from \"@/network/request\";\r\nimport {addNotice,editNotice,getNotices,delNotice,getNotice} from \"@/api/api\";\r\nimport Vue from 'vue'\r\nexport default {\r\n  name: \"Noticemanage\",\r\n  data(){\r\n    return {\r\n      addFormVisible: false,\r\n      editFormVisible: false,\r\n      addForm:{\r\n        title:\"\",\r\n        content:\"\"\r\n      },\r\n      editForm:{\r\n        id:\"\",\r\n        author:\"\",\r\n        title:\"\",\r\n        content:\"\"\r\n      },\r\n      addRules:{\r\n        title: [{required: true, message: '请输入类名', trigger: 'blur'}],\r\n        content:[{required: true, message: '请输入类名', trigger: 'blur'}]\r\n      },\r\n      editRules:{\r\n        title: [{required: true, message: '请输入类名', trigger: 'blur'}],\r\n        content:[{required: true, message: '请输入类名', trigger: 'blur'}]\r\n      },\r\n      tableData: [],\r\n      search: \"\",\r\n      allData: [],\r\n      total: 8,\r\n      pagesize:7,\r\n      pagesizes:[7,16,20],\r\n      currentPage:1\r\n    }\r\n  },\r\n  methods:{\r\n    current_change:function(currentPage){\r\n      this.currentPage = currentPage;\r\n    },\r\n    find(){\r\n      if(this.search===\"\"){\r\n        this.tableData=this.allData\r\n        this.total=this.tableData.length\r\n      }\r\n      else{\r\n        this.tableData=this.allData.filter(i=>{\r\n          return i.title.indexOf(this.search)>-1||i.author.indexOf(this.search)>-1\r\n        })\r\n      }\r\n      this.total=this.tableData.length\r\n    },\r\n    showAdd(){\r\n      this.addForm.name=\"\"\r\n      this.addFormVisible=true\r\n    },\r\n    add(){\r\n      this.$refs.addForm.validate((valid)=>{\r\n        if(valid){\r\n          const config={\r\n            url:addNotice,\r\n            method: \"post\",\r\n            headers:{\r\n              \"Token\": this.$store.state.token\r\n            },\r\n            data:{\r\n              title:this.addForm.title,\r\n              content:this.addForm.content\r\n            }\r\n          }\r\n          request(config).then((data)=>{\r\n            if(data.data.code===0){\r\n              alert(\"公告添加成功\")\r\n              this.allData=data.data.data\r\n              this.tableData=this.allData\r\n              this.total=this.tableData.length\r\n              this.find()\r\n            }else{\r\n              alert(data.data.message)\r\n            }\r\n          }).catch(()=>{\r\n            alert(\"服务器开小差了\")\r\n          })\r\n        }\r\n      })\r\n    },\r\n    showEdit(row){\r\n      const config={\r\n        url:getNotice,\r\n        method:\"get\",\r\n        params:{\r\n          \"id\":row.id\r\n        }\r\n      }\r\n      request(config).then((data)=>{\r\n        if(data.data.code===0){\r\n          this.editForm=data.data.data\r\n          this.editFormVisible=true\r\n        }else {\r\n          alert(data.data.message)\r\n        }\r\n      }).catch(()=>{\r\n        alert(\"服务器开小差了\")\r\n      })\r\n    },\r\n    edit(){\r\n      this.$refs.editForm.validate((valid)=>{\r\n        if(valid){\r\n          const config={\r\n            url:editNotice,\r\n            method: \"post\",\r\n            headers:{\r\n              \"Token\": this.$store.state.token\r\n            },\r\n            data:{\r\n              id:this.editForm.id,\r\n              title:this.editForm.title,\r\n              content:this.editForm.content\r\n            }\r\n          }\r\n          request(config).then((data)=>{\r\n            if(data.data.code===0){\r\n              alert(\"公告修改成功\")\r\n              let field=data.data.data;\r\n              for(let i in this.allData){\r\n                if(this.allData[i].id===field.id){\r\n                  Vue.set(this.allData[i],\"title\",field.title)\r\n                  Vue.set(this.allData[i],\"author\",field.author)\r\n                  break\r\n                }\r\n              }\r\n              this.find()\r\n            }else{\r\n              alert(data.data.message)\r\n            }\r\n          }).catch(()=>{\r\n            alert(\"服务器开小差啦\")\r\n          })\r\n        }\r\n      })\r\n    },\r\n    del(row){\r\n      const config={\r\n        url:delNotice,\r\n        method: \"get\",\r\n        headers:{\r\n          \"Token\": this.$store.state.token\r\n        },\r\n        params:{\r\n          \"id\": row.id\r\n        }\r\n      }\r\n      request(config).then((data)=>{\r\n        if(data.data.code===0){\r\n          alert(\"删除成功\")\r\n          for(let i in this.allData){\r\n            if(this.allData[i].id===row.id){\r\n              this.allData.splice(i,1)\r\n              break\r\n            }\r\n          }\r\n          this.find()\r\n        }else{\r\n          alert(data.data.message)\r\n        }\r\n      }).catch(()=>{\r\n        alert(\"服务器开小差了\")\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    const config={\r\n      url: getNotices,\r\n      method: 'get',\r\n    }\r\n    request(config).then((data)=>{\r\n      if(data.data.code===0){\r\n        this.allData=data.data.data\r\n        this.tableData=this.allData\r\n        this.total=this.tableData.length\r\n      }else{\r\n        alert(data.data.message)\r\n      }\r\n    }).catch(()=>{\r\n      alert(\"服务器开小差了\")\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}