{"remainingRequest":"C:\\Users\\ying123\\Desktop\\大创\\vue_project\\ucase\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ying123\\Desktop\\大创\\vue_project\\ucase\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ying123\\Desktop\\大创\\vue_project\\ucase\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ying123\\Desktop\\大创\\vue_project\\ucase\\src\\components\\MyCollection.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ying123\\Desktop\\大创\\vue_project\\ucase\\src\\components\\MyCollection.vue","mtime":1621956668000},{"path":"C:\\Users\\ying123\\Desktop\\大创\\vue_project\\ucase\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678861295872},{"path":"C:\\Users\\ying123\\Desktop\\大创\\vue_project\\ucase\\node_modules\\babel-loader\\lib\\index.js","mtime":1678861299420},{"path":"C:\\Users\\ying123\\Desktop\\大创\\vue_project\\ucase\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678861295872},{"path":"C:\\Users\\ying123\\Desktop\\大创\\vue_project\\ucase\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gIkAvbmV0d29yay9yZXF1ZXN0IjsKaW1wb3J0IHsgY2FuY2xlQ29sbGVjdCwgZ2V0TXljb2xsZWN0aW9uIH0gZnJvbSAiQC9hcGkvYXBpIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNeUNvbGxlY3Rpb24iLAogIG1ldGhvZHM6IHsKICAgIGN1cnJlbnRfY2hhbmdlOiBmdW5jdGlvbiAoY3VycmVudFBhZ2UpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IGN1cnJlbnRQYWdlOwogICAgfSwKCiAgICB0b0Nhc2VkZXRhaWwoaWQpIHsKICAgICAgbGV0IHJvdXRlVXJsID0gdGhpcy4kcm91dGVyLnJlc29sdmUoewogICAgICAgIHBhdGg6ICIvY2FzZWRldGFpbCIsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGlkOiBpZAogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHdpbmRvdy5vcGVuKHJvdXRlVXJsLmhyZWYsICdfYmxhbmsnKTsKICAgIH0sCgogICAgY2FuY2xlKHJvdykgewogICAgICBjb25zdCBjb25maWcgPSB7CiAgICAgICAgdXJsOiBjYW5jbGVDb2xsZWN0LAogICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIlRva2VuIjogdGhpcy4kc3RvcmUuc3RhdGUudG9rZW4KICAgICAgICB9LAogICAgICAgIHBhcmFtczogewogICAgICAgICAgJ2NpZCc6IHJvdy5pZAogICAgICAgIH0KICAgICAgfTsKICAgICAgcmVxdWVzdChjb25maWcpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgaWYgKGRhdGEuZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMudGFibGVEYXRhKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlRGF0YVtpXS5pZCA9PT0gcm93LmlkKSB7CiAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGEuc3BsaWNlKGksIDEpOwogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiZGVsQ29sbGVjdCIsIHJvdy5pZCk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICB0aXRsZTogJ3RpcCcsCiAgICAgICAgICAgIG1lc3NhZ2U6ICflj5bmtojmlLbol48nLAogICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICBhbGVydCgi5pyN5Yqh5Zmo5byA5bCP5beu5LqGIik7CiAgICAgIH0pOwogICAgfQoKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgYWxsRGF0YTogW10sCiAgICAgIHRvdGFsOiAwLAogICAgICBwYWdlc2l6ZTogNywKICAgICAgcGFnZXNpemVzOiBbNywgMTYsIDIwXSwKICAgICAgY3VycmVudFBhZ2U6IDEKICAgIH07CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIGxldCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1VG9rZW4iKTsKICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgdXJsOiBnZXRNeWNvbGxlY3Rpb24sCiAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAnVG9rZW4nOiB0b2tlbgogICAgICB9CiAgICB9OwogICAgcmVxdWVzdChjb25maWcpLnRoZW4oZGF0YSA9PiB7CiAgICAgIGlmIChkYXRhLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgIHRoaXMudGFibGVEYXRhID0gZGF0YS5kYXRhLmRhdGE7CiAgICAgICAgdGhpcy50b3RhbCA9IGRhdGEuZGF0YS5kYXRhLmxlbmd0aDsKICAgICAgfSBlbHNlIHsKICAgICAgICBhbGVydChkYXRhLmRhdGEubWVzc2FnZSk7CiAgICAgIH0KICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgYWxlcnQoIuacjeWKoeWZqOW8gOWwj+W3ruS6hiIpOwogICAgfSk7CiAgfQoKfTs="},{"version":3,"sources":["MyCollection.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <h1 style=\"margin-top: 25px\">个人收藏</h1>\r\n    <el-table  :data.sync=\"tableData.slice((currentPage-1)*pagesize,currentPage*pagesize)\"\r\n               style=\"margin-left:20%;width: 70%;margin-top: 30px\" border stripe\r\n    ><el-table-column\r\n        label=\"标题\"\r\n        width=\"250\"\r\n        header-align=\"center\"\r\n        align=\"center\">\r\n      <template slot-scope=\"scope\">\r\n        <el-link  @click=\"toCasedetail(scope.row.id)\">{{ scope.row.title }}</el-link >\r\n      </template>\r\n    </el-table-column>\r\n      <el-table-column prop=\"fname\"\r\n                       label=\"学科门类\" width=\"120\"\r\n                       header-align=\"center\"\r\n                       align=\"center\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column prop=\"sname\"\r\n                       label=\"学科\"\r\n                       width=\"120\"\r\n                       header-align=\"center\"\r\n                       align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"kname\"\r\n                       label=\"类别\"\r\n                       width=\"120\"\r\n                       header-align=\"center\"\r\n                       align=\"center\"\r\n                       >\r\n      </el-table-column>\r\n      <el-table-column prop=\"author\"\r\n                       label=\"作者\"\r\n                       width=\"120\"\r\n                       header-align=\"center\"\r\n                       align=\"center\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column prop=\"checkerName\"\r\n                       label=\"审核人员\"\r\n                       width=\"120\"\r\n                       header-align=\"center\"\r\n                       align=\"center\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column header-align=\"center\"\r\n                       align=\"center\"\r\n                       label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"warning\" icon=\"el-icon-star-on\"  circle title=\"取消收藏\" @click.prevent=\"cancle(scope.row)\"></el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div style=\"text-align: center;margin-top: 30px;margin-right: 30%\">\r\n      <el-pagination\r\n          background\r\n          :page-size.sync=\"pagesize\"\r\n          :page-sizes.sync=\"pagesizes\"\r\n          layout=\"sizes, prev, pager, next, jumper, ->, total\"\r\n          :total.sync=\"total\"\r\n          @current-change=\"current_change\">\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {request} from \"@/network/request\";\r\nimport {cancleCollect, getMycollection} from \"@/api/api\";\r\nexport default {\r\n  name: \"MyCollection\",\r\n  methods:{\r\n    current_change:function(currentPage){\r\n      this.currentPage = currentPage;\r\n    },\r\n    toCasedetail(id){\r\n      let routeUrl = this.$router.resolve({\r\n        path: \"/casedetail\",\r\n        query: {id:id}\r\n      });\r\n      window.open(routeUrl.href, '_blank')\r\n    },\r\n    cancle(row){\r\n      const config={\r\n        url: cancleCollect,\r\n        method: 'get',\r\n        headers:{\r\n          \"Token\":this.$store.state.token\r\n        },\r\n        params:{\r\n          'cid':row.id\r\n        }\r\n    }\r\n    request(config).then((data)=>{\r\n        if(data.data.code===0){\r\n          for (let i in this.tableData) {\r\n            if (this.tableData[i].id === row.id) {\r\n              this.tableData.splice(i,1)\r\n              this.$store.commit(\"delCollect\",row.id)\r\n\r\n              break\r\n            }\r\n          }\r\n          this.$notify({\r\n            title: 'tip',\r\n            message: '取消收藏',\r\n            duration: 2000\r\n          });\r\n        }else{\r\n          alert(data.data.message)\r\n        }\r\n      }).catch(()=>{\r\n        alert(\"服务器开小差了\")\r\n    })\r\n    }\r\n  },\r\n  data(){\r\n    return {\r\n      tableData:[],\r\n      allData:[],\r\n      total: 0,\r\n      pagesize: 7,\r\n      pagesizes:[7,16,20],\r\n      currentPage:1\r\n    }\r\n  },mounted() {\r\n    let token=localStorage.getItem(\"uToken\")\r\n    const config={\r\n      url: getMycollection,\r\n      method: 'get',\r\n      headers: {\r\n        'Token':token\r\n      }\r\n    }\r\n    request(config).then((data)=>{\r\n      if(data.data.code===0){\r\n        this.tableData=data.data.data\r\n        this.total=data.data.data.length\r\n      }else{\r\n        alert(data.data.message)\r\n      }\r\n    }).catch(()=>{\r\n      alert(\"服务器开小差了\")\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/components"}]}