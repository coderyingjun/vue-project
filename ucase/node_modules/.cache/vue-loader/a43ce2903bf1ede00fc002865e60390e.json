{"remainingRequest":"C:\\Users\\ying123\\Desktop\\大创\\vue_project\\ucase\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ying123\\Desktop\\大创\\vue_project\\ucase\\src\\components\\MyCase.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ying123\\Desktop\\大创\\vue_project\\ucase\\src\\components\\MyCase.vue","mtime":1615282188000},{"path":"C:\\Users\\ying123\\Desktop\\大创\\vue_project\\ucase\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678861295872},{"path":"C:\\Users\\ying123\\Desktop\\大创\\vue_project\\ucase\\node_modules\\babel-loader\\lib\\index.js","mtime":1678861299420},{"path":"C:\\Users\\ying123\\Desktop\\大创\\vue_project\\ucase\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678861295872},{"path":"C:\\Users\\ying123\\Desktop\\大创\\vue_project\\ucase\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge3JlcXVlc3R9IGZyb20gIkAvbmV0d29yay9yZXF1ZXN0IjsNCmltcG9ydCB7Z2V0TXljYXNlLGRlbENhc2V9IGZyb20gIkAvYXBpL2FwaSI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJNeUNhc2UiLA0KICBtZXRob2RzOnsNCiAgICBkZWwocm93KXsNCiAgICAgIGNvbnN0IHRva2VuPWxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1VG9rZW4iKQ0KICAgICAgaWYodG9rZW49PT11bmRlZmluZWR8fHRva2VuPT09bnVsbHx8dG9rZW49PT0iIil7DQogICAgICAgIGFsZXJ0KCLor7flhYjnmbvlvZUiKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIGNvbnN0IGNvbmZpZz17DQogICAgICAgIHVybDpkZWxDYXNlLA0KICAgICAgICBtZXRob2Q6ICJnZXQiLA0KICAgICAgICBoZWFkZXJzOnsNCiAgICAgICAgICAiVG9rZW4iOiB0b2tlbg0KICAgICAgICB9LA0KICAgICAgICBwYXJhbXM6ew0KICAgICAgICAgICJpZCI6IHJvdy5pZA0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXF1ZXN0KGNvbmZpZykudGhlbigoZGF0YSk9PnsNCiAgICAgICAgaWYoZGF0YS5kYXRhLmNvZGU9PT0wKXsNCiAgICAgICAgICBhbGVydCgi5Yig6Zmk5oiQ5YqfIikNCiAgICAgICAgICBmb3IobGV0IGkgaW4gdGhpcy50YWJsZURhdGEpew0KICAgICAgICAgICAgaWYodGhpcy50YWJsZURhdGFbaV0uaWQ9PT1yb3cuaWQpew0KICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YS5zcGxpY2UoaSwxKQ0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSkuY2F0Y2goKGVycik9PnsNCiAgICAgICAgY29uc29sZS5sb2coZXJyKQ0KICAgICAgICBhbGVydCgi5pyN5Yqh5Zmo5byA5bCP5beu5LqGIikNCiAgICAgIH0pDQogICAgfSwNCiAgICBlZGl0KHJvdyl7DQogICAgICBsZXQgcm91dGVVcmwgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7DQogICAgICAgIHBhdGg6ICIvZWRpdENhc2UvIityb3cuaWQsDQogICAgICB9KTsNCiAgICAgIHdpbmRvdy5vcGVuKHJvdXRlVXJsLmhyZWYsICdfYmxhbmsnKQ0KICAgIH0sDQogICAgdG9BZGRjYXNlKCl7DQogICAgICBsZXQgcm91dGVVcmwgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7DQogICAgICAgIHBhdGg6ICIvYWRkY2FzZXMiLA0KICAgICAgfSk7DQogICAgICB3aW5kb3cub3Blbihyb3V0ZVVybC5ocmVmLCAnX2JsYW5rJykNCiAgICB9LA0KICAgIGdldFN0YXR1cyhyb3cpew0KICAgICAgaWYocm93LnN0YXR1c0NvZGU9PT0n5bey5Y+R5biDJyl7DQogICAgICAgIHJldHVybiAnc3VjY2VzcycNCiAgICAgIH1lbHNlIGlmKHJvdy5zdGF0dXNDb2RlPT09J+W+heWuoeaguCcpew0KICAgICAgICByZXR1cm4gJ3ByaW1hcnknDQogICAgICB9ZWxzZXsNCiAgICAgICAgcmV0dXJuICdkYW5nZXInDQogICAgICB9DQogICAgfSwNCiAgICBjdXJyZW50X2NoYW5nZTpmdW5jdGlvbihjdXJyZW50UGFnZSl7DQogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gY3VycmVudFBhZ2U7DQogICAgfSwNCiAgICB0b0Nhc2VkZXRhaWwoaWQpew0KICAgICAgbGV0IHJvdXRlVXJsID0gdGhpcy4kcm91dGVyLnJlc29sdmUoew0KICAgICAgICBwYXRoOiAiL2Nhc2VkZXRhaWwiLA0KICAgICAgICBxdWVyeToge2lkOmlkfQ0KICAgICAgfSk7DQogICAgICB3aW5kb3cub3Blbihyb3V0ZVVybC5ocmVmLCAnX2JsYW5rJykNCiAgICB9DQogIH0sDQogIGRhdGEoKXsNCiAgICByZXR1cm4gew0KICAgICAgdGFibGVEYXRhOltdLA0KICAgICAgYWxsRGF0YTpbXSwNCiAgICAgIHRvdGFsOiAwLA0KICAgICAgcGFnZXNpemU6IDcsDQogICAgICBwYWdlc2l6ZXM6WzcsMTYsMjBdLA0KICAgICAgY3VycmVudFBhZ2U6MQ0KICAgIH0NCiAgfSxtb3VudGVkKCkgew0KICAgIGxldCB0b2tlbj1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidVRva2VuIikNCiAgICBjb25zdCBjb25maWc9ew0KICAgICAgdXJsOiBnZXRNeWNhc2UsDQogICAgICBtZXRob2Q6ICdnZXQnLA0KICAgICAgaGVhZGVyczp7DQogICAgICAgICJUb2tlbiI6dG9rZW4NCiAgICAgIH0NCiAgICB9DQogICAgcmVxdWVzdChjb25maWcpLnRoZW4oKGRhdGEpPT57DQogICAgICBpZihkYXRhLmRhdGEuY29kZT09PTApew0KICAgICAgICB0aGlzLnRhYmxlRGF0YT1kYXRhLmRhdGEuZGF0YS5tYXAoKGNhcyk9PnsNCiAgICAgICAgICBpZihjYXMuc3RhdHVzQ29kZT09PTEpew0KICAgICAgICAgICAgY2FzLnN0YXR1c0NvZGU9IuW3suWPkeW4gyINCiAgICAgICAgICB9ZWxzZSBpZihjYXMuc3RhdHVzQ29kZT09PTApew0KICAgICAgICAgICAgY2FzLnN0YXR1c0NvZGU9IuW+heWuoeaguCINCiAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIGNhcy5zdGF0dXNDb2RlPSLlrqHmoLjkuI3pgJrov4ciDQogICAgICAgICAgfQ0KICAgICAgICAgIHJldHVybiBjYXMNCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy50b3RhbD10aGlzLnRhYmxlRGF0YS5sZW5ndGgNCiAgICAgIH1lbHNlIHsNCiAgICAgICAgYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpDQogICAgICB9DQogICAgfSkuY2F0Y2goKCk9PnsNCiAgICAgIGFsZXJ0KCLmnI3liqHlmajlvIDlsI/lt67kuoYiKQ0KICAgIH0pDQogIH0NCn0NCg=="},{"version":3,"sources":["MyCase.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyCase.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <h1 style=\"margin-top: 25px\">我的案例</h1>\r\n    <div>\r\n      <el-button icon=\"el-icon-edit\" type=\"primary\" style=\"margin-left: 900px\" @click=\"toAddcase\">发布案例</el-button>\r\n    </div>\r\n    <el-table  :data.sync=\"tableData.slice((currentPage-1)*pagesize,currentPage*pagesize)\"\r\n               style=\"margin-left:15%;width: 70%;margin-top: 30px\" border stripe\r\n    ><el-table-column\r\n        label=\"标题\"\r\n        width=\"200\"\r\n        header-align=\"center\"\r\n        align=\"center\">\r\n      <template slot-scope=\"scope\">\r\n        <el-link  @click=\"toCasedetail(scope.row.id)\">{{ scope.row.title }}</el-link >\r\n      </template>\r\n    </el-table-column>\r\n      <el-table-column prop=\"fname\"\r\n                       label=\"学科门类\" width=\"120\"\r\n                       header-align=\"center\"\r\n                       align=\"center\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column prop=\"sname\"\r\n                       label=\"学科\"\r\n                       width=\"100\"\r\n                       header-align=\"center\"\r\n                       align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"kname\"\r\n                       label=\"类别\"\r\n                       width=\"100\"\r\n                       header-align=\"center\"\r\n                       align=\"center\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column prop=\"createTime\"\r\n                       label=\"创建时间\"\r\n                       width=\"150\"\r\n                       header-align=\"center\"\r\n                       align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"statusCode\"\r\n                       label=\"案例状态\"\r\n                       width=\"110\"\r\n                       header-align=\"center\"\r\n                       align=\"center\"\r\n                       filter-placement=\"bottom-end\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag\r\n              :type=\"getStatus(scope.row)\"\r\n              disable-transitions>{{scope.row.statusCode}}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"author\"\r\n                       label=\"作者\"\r\n                       width=\"120\"\r\n                       header-align=\"center\"\r\n                       align=\"center\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column prop=\"checkerName\"\r\n                       label=\"审核人员\"\r\n                       width=\"120\"\r\n                       header-align=\"center\"\r\n                       align=\"center\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column header-align=\"center\"\r\n                       align=\"center\"\r\n                       label=\"操作\"\r\n                       fixed=\"right\"\r\n                       width=\"180\"\r\n                        >\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"edit(scope.row)\">编辑</el-button>\r\n          &nbsp;\r\n          <el-popconfirm\r\n              confirm-button-text='好的'\r\n              cancel-button-text='不用了'\r\n              icon=\"el-icon-info\"\r\n              icon-color=\"red\"\r\n              :title=\"'确定删除案例'+scope.row.title+' 吗？'\"\r\n              @confirm=\"del(scope.row)\"\r\n          >\r\n            <el-button slot=\"reference\" type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" >删除</el-button>\r\n          </el-popconfirm>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div style=\"text-align: center;margin-top: 30px;margin-right: 30%\">\r\n      <el-pagination\r\n          background\r\n          :page-size.sync=\"pagesize\"\r\n          :page-sizes.sync=\"pagesizes\"\r\n          layout=\"sizes, prev, pager, next, jumper, ->, total\"\r\n          :total.sync=\"total\"\r\n          @current-change=\"current_change\">\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {request} from \"@/network/request\";\r\nimport {getMycase,delCase} from \"@/api/api\";\r\nexport default {\r\n  name: \"MyCase\",\r\n  methods:{\r\n    del(row){\r\n      const token=localStorage.getItem(\"uToken\")\r\n      if(token===undefined||token===null||token===\"\"){\r\n        alert(\"请先登录\")\r\n        return\r\n      }\r\n      const config={\r\n        url:delCase,\r\n        method: \"get\",\r\n        headers:{\r\n          \"Token\": token\r\n        },\r\n        params:{\r\n          \"id\": row.id\r\n        }\r\n      }\r\n      request(config).then((data)=>{\r\n        if(data.data.code===0){\r\n          alert(\"删除成功\")\r\n          for(let i in this.tableData){\r\n            if(this.tableData[i].id===row.id){\r\n              this.tableData.splice(i,1)\r\n              break\r\n            }\r\n          }\r\n        }\r\n      }).catch((err)=>{\r\n        console.log(err)\r\n        alert(\"服务器开小差了\")\r\n      })\r\n    },\r\n    edit(row){\r\n      let routeUrl = this.$router.resolve({\r\n        path: \"/editCase/\"+row.id,\r\n      });\r\n      window.open(routeUrl.href, '_blank')\r\n    },\r\n    toAddcase(){\r\n      let routeUrl = this.$router.resolve({\r\n        path: \"/addcases\",\r\n      });\r\n      window.open(routeUrl.href, '_blank')\r\n    },\r\n    getStatus(row){\r\n      if(row.statusCode==='已发布'){\r\n        return 'success'\r\n      }else if(row.statusCode==='待审核'){\r\n        return 'primary'\r\n      }else{\r\n        return 'danger'\r\n      }\r\n    },\r\n    current_change:function(currentPage){\r\n      this.currentPage = currentPage;\r\n    },\r\n    toCasedetail(id){\r\n      let routeUrl = this.$router.resolve({\r\n        path: \"/casedetail\",\r\n        query: {id:id}\r\n      });\r\n      window.open(routeUrl.href, '_blank')\r\n    }\r\n  },\r\n  data(){\r\n    return {\r\n      tableData:[],\r\n      allData:[],\r\n      total: 0,\r\n      pagesize: 7,\r\n      pagesizes:[7,16,20],\r\n      currentPage:1\r\n    }\r\n  },mounted() {\r\n    let token=localStorage.getItem(\"uToken\")\r\n    const config={\r\n      url: getMycase,\r\n      method: 'get',\r\n      headers:{\r\n        \"Token\":token\r\n      }\r\n    }\r\n    request(config).then((data)=>{\r\n      if(data.data.code===0){\r\n        this.tableData=data.data.data.map((cas)=>{\r\n          if(cas.statusCode===1){\r\n            cas.statusCode=\"已发布\"\r\n          }else if(cas.statusCode===0){\r\n            cas.statusCode=\"待审核\"\r\n          }else{\r\n            cas.statusCode=\"审核不通过\"\r\n          }\r\n          return cas\r\n        })\r\n        this.total=this.tableData.length\r\n      }else {\r\n        alert(data.data.message)\r\n      }\r\n    }).catch(()=>{\r\n      alert(\"服务器开小差了\")\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}